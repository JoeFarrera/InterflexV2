package es.sysmap.interflex.model.dmc;
import es.sysmap.interflex.model.bdc.InterflexMessageBundle;
import es.sysmap.interflex.model.bdc.SgaarticuloDefImpl;
import es.sysmap.interflex.model.bdc.SgaarticuloImpl;
import es.sysmap.interflex.model.bdc.SgabultoDefImpl;
import es.sysmap.interflex.model.bdc.SgabultoImpl;
import es.sysmap.interflex.model.bdc.SgacdocDefImpl;
import es.sysmap.interflex.model.bdc.SgacdocImpl;
import es.sysmap.interflex.model.bdc.SgaetiquetaDefImpl;
import es.sysmap.interflex.model.bdc.SgaetiquetaImpl;
import es.sysmap.interflex.model.bdc.SgaexistenciaDefImpl;
import es.sysmap.interflex.model.bdc.SgaexistenciaImpl;
import es.sysmap.interflex.model.bdc.SgalbultoDefImpl;
import es.sysmap.interflex.model.bdc.SgalbultoImpl;
import es.sysmap.interflex.model.bdc.SgaldocDefImpl;
import es.sysmap.interflex.model.bdc.SgaldocImpl;
import es.sysmap.interflex.model.bdc.SgamacImpl;
import es.sysmap.interflex.model.bdc.SgaubicacionImpl;
import es.sysmap.interflex.model.dmc.SgaRefCodesViewRowImpl;
import es.sysmap.interflex.model.dmc.common.SgacdocSortidesViewRow;
import es.sysmap.interflex.model.dmc.common.SgacdocViewRow;
import es.sysmap.interflex.model.dmc.common.SgaexpedbultoViewRow;
import es.sysmap.interflex.model.dmc.common.SgamacEnPuestoViewRow;
import es.sysmap.interflex.model.dmc.common.SgaresmatOpManViewRow;
import es.sysmap.interflex.model.dmc.common.SgaresmatViewRow;
import es.sysmap.interflex.model.dmc.common.SgavBultoCantErroneoRow;
import es.sysmap.interflex.model.dmc.common.SgavubicacionlibreminiloadViewRow;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.text.SimpleDateFormat;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Set;
import java.util.Vector;
import oracle.jbo.JboContext;
import oracle.jbo.JboException;
import oracle.jbo.Key;
import oracle.jbo.Row;
import oracle.jbo.RowIterator;
import oracle.jbo.RowSet;
import oracle.jbo.RowSetIterator;
import oracle.jbo.Session;
import oracle.jbo.ViewObject;
import oracle.jbo.domain.Number;
import oracle.jbo.server.ApplicationModuleImpl;
import oracle.jbo.server.DBTransaction;
import oracle.jbo.server.ViewLinkImpl;
import java.sql.CallableStatement;
import org.apache.log4j.Logger;

//  ---------------------------------------------------------------------
//  ---    File generated by Oracle ADF Business Components Design Time.
//  ---    Custom code may be added to this class.
//  ---    Warning: Do not modify method signatures of generated methods.
//  ---------------------------------------------------------------------

public class AppModuleImpl extends ApplicationModuleImpl implements es.sysmap.interflex.model.dmc.common.AppModule
{
  private Logger LOG = Logger.getLogger(getClass());

  static SgaLiniaSalidaObertImpl sgaliniasalidaobertView = null;
  /**
   *
   *  This is the default constructor (do not remove)
   */
  public AppModuleImpl()
  {
  }
  

  protected void prepareSession(Session session)
  {
    super.prepareSession(session);
    //Establim els filtres per les vistes basades en SgaRefCodes
    getSgaTipMovView1().setWhereClauseParam(0, "TIPMOV");
    getSgarotacionView1().setWhereClauseParam(0, "ROTACION");
    getSgaestadomacView1().setWhereClauseParam(0, "ESTADOMAC");
    getSgaestadoubiView1().setWhereClauseParam(0, "ESTADOUBI");
    getSgaaccesoubiView1().setWhereClauseParam(0, "ACCESOUBI");
    getSgaestadopuestoView1().setWhereClauseParam(0, "ESTPUESTO");
    getSgaestatpassadisView1().setWhereClauseParam(0, "ESTPASILLO");
    getSgaRefCodesEspecialExistView().setWhereClauseParam(0, "ESPECIALEX");
    
    // Filtrem sortides
    getSgavcdocView1().setWhereClauseParam(0, "S");
    //Filtrem entrades
    getSgavcdocView2().setWhereClauseParam(0, "E");
    //Filtrem els documents assignats al puesto
    //this.getSgavdocsObertsView1().setWhereClauseParam(0, );
  }

  /**
   *
   *  Container's getter for SgaarticuloView1
   */
  public SgaarticuloViewImpl getSgaarticuloView1()
  {
    return (SgaarticuloViewImpl)findViewObject("SgaarticuloView1");
  }

  /**
   *
   *  Container's getter for SgabultoView1
   */
  public SgabultoViewImpl getSgabultoView1()
  {
    return (SgabultoViewImpl)findViewObject("SgabultoView1");
  }

  /**
   *
   *  Container's getter for SgacdocView1
   */
  public SgacdocViewImpl getSgacdocView1()
  {
    return (SgacdocViewImpl)findViewObject("SgacdocView1");
  }

  /**
   *
   *  Container's getter for SgaexistenciaView1
   */
  public SgaexistenciaViewImpl getSgaexistenciaView1()
  {
    return (SgaexistenciaViewImpl)findViewObject("SgaexistenciaView1");
  }

  /**
   *
   *  Container's getter for SgalbultoView1
   */
  public SgalbultoViewImpl getSgalbultoView1()
  {
    return (SgalbultoViewImpl)findViewObject("SgalbultoView1");
  }

  /**
   *
   *  Container's getter for SgaldocView1
   */
  public SgaldocViewImpl getSgaldocView1()
  {
    return (SgaldocViewImpl)findViewObject("SgaldocView1");
  }

  /**
   *
   *  Container's getter for SgamacView1
   */
  public SgamacViewImpl getSgamacView1()
  {
    return (SgamacViewImpl)findViewObject("SgamacView1");
  }

  /**
   *
   *  Container's getter for SgaposicionubicacionView1
   */
  public SgaposicionubicacionViewImpl getSgaposicionubicacionView1()
  {
    return (SgaposicionubicacionViewImpl)findViewObject("SgaposicionubicacionView1");
  }

  /**
   *
   *  Container's getter for SgaresmatView1
   */
  public SgaresmatViewImpl getSgaresmatView1()
  {
    return (SgaresmatViewImpl)findViewObject("SgaresmatView1");
  }

  /**
   *
   *  Container's getter for SgatipdocView1
   */
  public SgatipdocViewImpl getSgatipdocView1()
  {
    return (SgatipdocViewImpl)findViewObject("SgatipdocView1");
  }

  /**
   *
   *  Container's getter for SgatipmactipubiView1
   */
  public SgatipmactipubiViewImpl getSgatipmactipubiView1()
  {
    return (SgatipmactipubiViewImpl)findViewObject("SgatipmactipubiView1");
  }

  /**
   *
   *  Container's getter for SgatipoalmacenView1
   */
  public SgatipoalmacenViewImpl getSgatipoalmacenView1()
  {
    return (SgatipoalmacenViewImpl)findViewObject("SgatipoalmacenView1");
  }

  /**
   *
   *  Container's getter for SgatipomacView1
   */
  public SgatipomacViewImpl getSgatipomacView1()
  {
    return (SgatipomacViewImpl)findViewObject("SgatipomacView1");
  }

  /**
   *
   *  Container's getter for SgatipoubicacionView1
   */
  public SgatipoubicacionViewImpl getSgatipoubicacionView1()
  {
    return (SgatipoubicacionViewImpl)findViewObject("SgatipoubicacionView1");
  }

  /**
   *
   *  Container's getter for SgaexistenciaView2
   */
  public SgaexistenciaViewImpl getSgaexistenciaView2()
  {
    return (SgaexistenciaViewImpl)findViewObject("SgaexistenciaView2");
  }

  /**
   *
   *  Container's getter for SgalbultoView2
   */
  public SgalbultoViewImpl getSgalbultoView2()
  {
    return (SgalbultoViewImpl)findViewObject("SgalbultoView2");
  }

  /**
   *
   *  Container's getter for SgalbultoView3
   */
  public SgalbultoViewImpl getSgalbultoView3()
  {
    return (SgalbultoViewImpl)findViewObject("SgalbultoView3");
  }

  /**
   *
   *  Container's getter for SgaldocView2
   */
  public SgaldocViewImpl getSgaldocView2()
  {
    return (SgaldocViewImpl)findViewObject("SgaldocView2");
  }

  /**
   *
   *  Container's getter for SgaldocView3
   */
  public SgaldocViewImpl getSgaldocView3()
  {
    return (SgaldocViewImpl)findViewObject("SgaldocView3");
  }

  /**
   *
   *  Container's getter for SgaexistenciaView3
   */
  public SgaexistenciaViewImpl getSgaexistenciaView3()
  {
    return (SgaexistenciaViewImpl)findViewObject("SgaexistenciaView3");
  }

  /**
   *
   *  Container's getter for SgamacView2
   */
  public SgamacViewImpl getSgamacView2()
  {
    return (SgamacViewImpl)findViewObject("SgamacView2");
  }

  /**
   *
   *  Container's getter for SgamacView3
   */
  public SgamacViewImpl getSgamacView3()
  {
    return (SgamacViewImpl)findViewObject("SgamacView3");
  }

  /**
   *
   *  Container's getter for SgaresmatView2
   */
  public SgaresmatViewImpl getSgaresmatView2()
  {
    return (SgaresmatViewImpl)findViewObject("SgaresmatView2");
  }


  /**
   *
   *  Container's getter for SgaresmatView4
   */
  public SgaresmatViewImpl getSgaresmatView4()
  {
    return (SgaresmatViewImpl)findViewObject("SgaresmatView4");
  }


  /**
   *
   *  Container's getter for SgatipmactipubiView2
   */
  public SgatipmactipubiViewImpl getSgatipmactipubiView2()
  {
    return (SgatipmactipubiViewImpl)findViewObject("SgatipmactipubiView2");
  }

  /**
   *
   *  Container's getter for SgamacView4
   */
  public SgamacViewImpl getSgamacView4()
  {
    return (SgamacViewImpl)findViewObject("SgamacView4");
  }


  /**
   *
   *  Container's getter for SgaarticuloView2
   */
  public SgaarticuloViewImpl getSgaarticuloView2()
  {
    return (SgaarticuloViewImpl)findViewObject("SgaarticuloView2");
  }

  /**
   *
   *  Container's getter for SgatipmactipubiView3
   */
  public SgatipmactipubiViewImpl getSgatipmactipubiView3()
  {
    return (SgatipmactipubiViewImpl)findViewObject("SgatipmactipubiView3");
  }

  /**
   *
   *  Container's getter for SysC0010954Link1
   */
  public ViewLinkImpl getSysC0010954Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010954Link1");
  }

  /**
   *
   *  Container's getter for SysC0010962Link1
   */
  public ViewLinkImpl getSysC0010962Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010962Link1");
  }

  /**
   *
   *  Container's getter for SysC0010961Link1
   */
  public ViewLinkImpl getSysC0010961Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010961Link1");
  }

  /**
   *
   *  Container's getter for SysC0010965Link1
   */
  public ViewLinkImpl getSysC0010965Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010965Link1");
  }

  /**
   *
   *  Container's getter for SysC0010966Link1
   */
  public ViewLinkImpl getSysC0010966Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010966Link1");
  }

  /**
   *
   *  Container's getter for SysC0010955Link1
   */
  public ViewLinkImpl getSysC0010955Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010955Link1");
  }

  /**
   *
   *  Container's getter for SysC0010956Link1
   */
  public ViewLinkImpl getSysC0010956Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010956Link1");
  }

  /**
   *
   *  Container's getter for SysC0010959Link1
   */
  public ViewLinkImpl getSysC0010959Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010959Link1");
  }

  /**
   *
   *  Container's getter for SysC0010951Link1
   */
  public ViewLinkImpl getSysC0010951Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010951Link1");
  }


  /**
   *
   *  Container's getter for SysC0010953Link1
   */
  public ViewLinkImpl getSysC0010953Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010953Link1");

  }

  /**
   *
   *  Container's getter for SysC0010970Link1
   */
  public ViewLinkImpl getSysC0010970Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010970Link1");
  }

  /**
   *
   *  Container's getter for SysC0010971Link1
   */
  public ViewLinkImpl getSysC0010971Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010971Link1");

  }

  /**
   *
   *  Container's getter for SysC0010960Link1
   */
  public ViewLinkImpl getSysC0010960Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010960Link1");

  }


  /**
   *
   *  Container's getter for SysC0010973Link1
   */
  public ViewLinkImpl getSysC0010973Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010973Link1");

  }

  /**
   *
   *  Container's getter for SysC0010972Link1
   */
  public ViewLinkImpl getSysC0010972Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010972Link1");

  }

  /**
   *
   *  Sample main for debugging Business Components code using the tester.
   */
  public static void main(String[] args)
  {
    launchTester("es.sysmap.interflex.model.dmc", "AppModuleLocal");
  }





  /**
   * Test according to Steve Muench for extended entities..
   * @return
   * @param k
   */
   public String findIdUbi (Key k) {
    String idUbi = null;
    SgaubicacionImpl p = (SgaubicacionImpl)SgaubicacionImpl.getDefinitionObject().findByPrimaryKey(getDBTransaction(),k);
    if (p != null) {
      idUbi = p.getIdubi();
    }
    return idUbi;
  }




  /**
   *
   *  Container's getter for TestTelegrama1
   */
  public TestTelegramaImpl getTestTelegrama1()
  {
    return (TestTelegramaImpl)findViewObject("TestTelegrama1");
  }

  /**
   *
   *  Container's getter for SgaTipMovView1
   */
  public SgaRefCodesViewImpl getSgaTipMovView1()
  {
    return (SgaRefCodesViewImpl)findViewObject("SgaTipMovView1");
  }

  /**
   *
   *  Container's getter for SgarotacionView1
   */
  public SgaRefCodesViewImpl getSgarotacionView1()
  {
    return (SgaRefCodesViewImpl)findViewObject("SgarotacionView1");
  }

  /**
   *
   *  Container's getter for SgatipomaclovView1
   */
  public SgatipomaclovViewImpl getSgatipomaclovView1()
  {
    return (SgatipomaclovViewImpl)findViewObject("SgatipomaclovView1");
  }

  /**
   *
   *  Container's getter for SgaestadomacView1
   */
  public SgaRefCodesViewImpl getSgaestadomacView1()
  {
    return (SgaRefCodesViewImpl)findViewObject("SgaestadomacView1");
  }











  /**
   *
   *  Container's getter for SgatipoubicacionlovView1
   */
  public SgatipoubicacionlovViewImpl getSgatipoubicacionlovView1()
  {
    return (SgatipoubicacionlovViewImpl)findViewObject("SgatipoubicacionlovView1");
  }

  /**
   *
   *  Container's getter for SgaubicacionView1
   */
  public SgaubicacionViewImpl getSgaubicacionView1()
  {
    return (SgaubicacionViewImpl)findViewObject("SgaubicacionView1");
  }

  /**
   *
   *  Container's getter for SgaubicacionManualView1
   */
  public SgaubicacionManualViewImpl getSgaubicacionManualView1()
  {
    return (SgaubicacionManualViewImpl)findViewObject("SgaubicacionManualView1");
  }

  /**
   *
   *  Container's getter for SgaubicacionMiniLoadView1
   */
  public SgaubicacionMiniLoadViewImpl getSgaubicacionMiniLoadView1()
  {
    return (SgaubicacionMiniLoadViewImpl)findViewObject("SgaubicacionMiniLoadView1");
  }

  /**
   *
   *  Container's getter for SgaposicionubicacionView2
   */
  public SgaposicionubicacionViewImpl getSgaposicionubicacionView2()
  {
    return (SgaposicionubicacionViewImpl)findViewObject("SgaposicionubicacionView2");
  }

  /**
   *
   *  Container's getter for SgaubicacionMiniLoadPosicionUbicacionLink1
   */
  public ViewLinkImpl getSgaubicacionMiniLoadPosicionUbicacionLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaubicacionMiniLoadPosicionUbicacionLink1");
  }

  /**
   *
   *  Container's getter for SgaubicacionSiloView1
   */
  public SgaubicacionSiloViewImpl getSgaubicacionSiloView1()
  {
    return (SgaubicacionSiloViewImpl)findViewObject("SgaubicacionSiloView1");
  }

  /**
   *
   *  Container's getter for SgaposicionubicacionView3
   */
  public SgaposicionubicacionViewImpl getSgaposicionubicacionView3()
  {
    return (SgaposicionubicacionViewImpl)findViewObject("SgaposicionubicacionView3");
  }

  /**
   *
   *  Container's getter for SgaubicacionSiloPosicionUbicacionLink1
   */
  public ViewLinkImpl getSgaubicacionSiloPosicionUbicacionLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaubicacionSiloPosicionUbicacionLink1");
 }

  /**
   *
   *  Container's getter for SgaestadoubiView1
   */
  public SgaRefCodesViewImpl getSgaestadoubiView1()
  {
    return (SgaRefCodesViewImpl)findViewObject("SgaestadoubiView1");
  }

  /**
   *
   *  Container's getter for SgaaccesoubiView1
   */
  public SgaRefCodesViewImpl getSgaaccesoubiView1()
  {
    return (SgaRefCodesViewImpl)findViewObject("SgaaccesoubiView1");
  }

  /**
   *
   *  Container's getter for SgavexistenciaView1
   */
  public SgavexistenciaViewImpl getSgavexistenciaView1()
  {
    return (SgavexistenciaViewImpl)findViewObject("SgavexistenciaView1");
  }

  /**
   *
   *  Container's getter for SgavubicacionView1
   */
  public SgavubicacionViewImpl getSgavubicacionView1()
  {
    return (SgavubicacionViewImpl)findViewObject("SgavubicacionView1");
  }

  /**
   *
   *  Container's getter for SgavsumexistenciaView1
   */
  public SgavsumexistenciaViewImpl getSgavsumexistenciaView1()
  {
    return (SgavsumexistenciaViewImpl)findViewObject("SgavsumexistenciaView1");
  }



  /**
   * 
   *  Container's getter for SgacdocEntradesView1
   */
  public SgacdocEntradesViewImpl getSgacdocEntradesView1()
  {
    return (SgacdocEntradesViewImpl)findViewObject("SgacdocEntradesView1");
  }


  /**
   * 
   *  Container's getter for SgalbultoView4
   */
  public SgalbultoViewImpl getSgalbultoView4()
  {
    return (SgalbultoViewImpl)findViewObject("SgalbultoView4");
  }

  /**
   * 
   *  Container's getter for SgaldocView5
   */
  public SgaldocViewImpl getSgaldocView5()
  {
    return (SgaldocViewImpl)findViewObject("SgaldocView5");
  }


  /**
   * 
   *  Container's getter for SgavbultolbultoLink1
   */
  public ViewLinkImpl getSgavbultolbultoLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavbultolbultoLink1");
  }

  /**
   * 
   *  Container's getter for SgalbultoldocLink1
   */
  public ViewLinkImpl getSgalbultoldocLink1()
  {
    return (ViewLinkImpl)findViewLink("SgalbultoldocLink1");
  }

  /**
   * 
   *  Container's getter for SgaPuestoPickingView1
   */
  public SgaPuestoPickingViewImpl getSgaPuestoPickingView1()
  {
    return (SgaPuestoPickingViewImpl)findViewObject("SgaPuestoPickingView1");
  }



  /**
   * 
   *  Container's getter for SgapuestomanipView1
   */
  public SgapuestomanipViewImpl getSgapuestomanipView1()
  {
    return (SgapuestomanipViewImpl)findViewObject("SgapuestomanipView1");
  }

  /**
   * 
   *  Container's getter for SgaubicacionPlcView1
   */
  public SgaubicacionPlcViewImpl getSgaubicacionPlcView1()
  {
    return (SgaubicacionPlcViewImpl)findViewObject("SgaubicacionPlcView1");
  }

  /**
   * 
   *  Container's getter for SgavcdocView1
   */
  public SgavcdocViewImpl getSgavcdocView1()
  {
    return (SgavcdocViewImpl)findViewObject("SgavcdocView1");
  }

  /**
   * 
   *  Container's getter for SgavldocView1
   */
  public SgavldocViewImpl getSgavldocView1()
  {
    return (SgavldocViewImpl)findViewObject("SgavldocView1");
  }

  /**
   * 
   *  Container's getter for SgavcdocView2
   */
  public SgavcdocViewImpl getSgavcdocView2()
  {
    return (SgavcdocViewImpl)findViewObject("SgavcdocView2");
  }

  /**
   * 
   *  Container's getter for SgavbultoView2
   */
  public SgavbultoViewImpl getSgavbultoView2()
  {
    return (SgavbultoViewImpl)findViewObject("SgavbultoView2");
  }

  /**
   * 
   *  Container's getter for SgavldocEntradesView1
   */
  public SgavldocEntradesViewImpl getSgavldocEntradesView1()
  {
    return (SgavldocEntradesViewImpl)findViewObject("SgavldocEntradesView1");
  }

  /**
   * 
   *  Container's getter for SgavcdocvldocLink1
   */
  public ViewLinkImpl getSgavcdocvldocLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavcdocvldocLink1");
  }

  /**
   * 
   *  Container's getter for SgavcdocvbultoLink1
   */
  public ViewLinkImpl getSgavcdocvbultoLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavcdocvbultoLink1");
  }

  /**
   * 
   *  Container's getter for SgavbultovldocentradesLink1
   */
  public ViewLinkImpl getSgavbultovldocentradesLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavbultovldocentradesLink1");
  }




  /**
   * 
   *  Container's getter for SgaedocView1
   */
  public SgaedocViewImpl getSgaedocView1()
  {
    return (SgaedocViewImpl)findViewObject("SgaedocView1");
  }

  /**
   * 
   *  Container's getter for SgacdocedocLink1
   */
  public ViewLinkImpl getSgacdocedocLink1()
  {
    return (ViewLinkImpl)findViewLink("SgacdocedocLink1");
  }

  /**
   * 
   *  Container's getter for SgavedocView1
   */
  public SgavedocViewImpl getSgavedocView1()
  {
    return (SgavedocViewImpl)findViewObject("SgavedocView1");
  }

  /**
   * 
   *  Container's getter for SgavcdocvedocLink1
   */
  public ViewLinkImpl getSgavcdocvedocLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavcdocvedocLink1");
  }

  /**
   * 
   *  Container's getter for SgaestadopuestoView1
   */
  public SgaRefCodesViewImpl getSgaestadopuestoView1()
  {
    return (SgaRefCodesViewImpl)findViewObject("SgaestadopuestoView1");
  }



  /**
   * Retorna cert si es tracta d'un puesto de manipulaciï¿½ i fals en cas contrari
   * @return 
   * @param puesto
   */
  public boolean esPuestoManipulacion(String puesto)
  {
    Key key = new Key(new Object[]{puesto});
    Row [] row = getSgapuestomanipView1().findByKey(key, 1);
    if (row.length > 0 && row[0] != null)
    {
      SgapuestomanipViewRowImpl puestoManip = (SgapuestomanipViewRowImpl)row[0];
      return (puestoManip.getIdubislo() != null || puestoManip.getIdubimld() != null);
    }
    return false;
  }
  
  public boolean esPuestoExtraPicking(String puesto)
  {
    Key key = new Key(new Object[]{puesto});
    Row [] row = getSgapuestomanipView1().findByKey(key, 1);
    if (row.length > 0 && row[0] != null)
    {
      SgapuestomanipViewRowImpl puestoManip = (SgapuestomanipViewRowImpl)row[0];
      return (puestoManip.getIdubislo() != null && puestoManip.getIdubislo().equals("PKEXTR"));
    }
    return false;
    
  }
  
  public Set getEspecialExistencia()
  {
    Set  specials = new HashSet();
    getSgaRefCodesEspecialExistView().executeQuery();
    RowSet rows =  getSgaRefCodesEspecialExistView().getRowSet();
    while (rows.hasNext())
    {
      SgaRefCodesViewRowImpl row = (SgaRefCodesViewRowImpl)rows.next();
      String value = row.getValue();
      String abbrev = row.getAbbreviation();
      specials.add(row.getAbbreviation());
    }
    
    return specials;
    
  }
  
  public String getEspecialValue(String abbreviation)
  {
    getSgaRefCodesEspecialExistView().executeQuery();
    RowSet rows =  getSgaRefCodesEspecialExistView().getRowSet();
    while (rows.hasNext())
    {
      SgaRefCodesViewRowImpl row = (SgaRefCodesViewRowImpl)rows.next();
      if (row.getAbbreviation() != null && row.getAbbreviation().equals(abbreviation))
        return row.getValue();
    }
    return null;
  }
  
  
  /**
   * Si es un puesto de manipulaciï¿½, retorna les ubicacions corresponents al
   * puesto pel silo i el miniload, i activa el puesto. Si no, retorna null
   * @return 
   * @param puesto
   */
  public Set getUbicsPuestoManipulacion(String puesto)
  {
    Set ubics = new HashSet();
    Key key = new Key(new Object[]{puesto});
    Row [] row = getSgapuestomanipView1().findByKey(key, 1);
    if (row.length > 0 && row[0] != null)
    {
      SgapuestomanipViewRowImpl puestoManip = (SgapuestomanipViewRowImpl)row[0];
      if (puestoManip.getIdubislo() != null)
        ubics.add(puestoManip.getIdubislo());
      if (puestoManip.getIdubimld() != null)
        ubics.add(puestoManip.getIdubimld());
    }
    
    return ubics;
  }
  
  /**
   * 
   *  Container's getter for SgauserView1
   */
  public SgauserViewImpl getSgauserView1()
  {
    return (SgauserViewImpl)findViewObject("SgauserView1");
  }

  /**
   * 
   *  Container's getter for SgaresmatView3
   */
  public SgaresmatViewImpl getSgaresmatView3()
  {
    return (SgaresmatViewImpl)findViewObject("SgaresmatView3");
  }

  /**
   * 
   *  Container's getter for SysC0010952Link1
   */
  public ViewLinkImpl getSysC0010952Link1()
  {
    return (ViewLinkImpl)findViewLink("SysC0010952Link1");
  }



  /**
   * Retorna la ubicaciï¿½ d'entrada pel puesto
   * @param idpuesto
   */
  public String getUbicacionPuesto(String idpuesto, String magatzem)
  {
    Object [] obj = {idpuesto};
    Key key = new Key(obj);
    Row [] rows = getSgapuestomanipView1().findByKey(key, 1);
    if (rows.length > 0 && rows[0] != null)
    {
      SgapuestomanipViewRowImpl puesto = (SgapuestomanipViewRowImpl)rows[0];
      if (magatzem.equals(SgaubicacionImpl.MINILOAD))
        return puesto.getIdubimld();
      else
        return puesto.getIdubislo();
    }
    return null;
  }

  /**
   * 
   *  Container's getter for SgaordtranView1
   */
  public SgaordtranViewImpl getSgaordtranView1()
  {
    return (SgaordtranViewImpl)findViewObject("SgaordtranView1");
  }

  /**
   * 
   *  Container's getter for SgaordtranView2
   */
  public SgaordtranViewImpl getSgaordtranView2()
  {
    return (SgaordtranViewImpl)findViewObject("SgaordtranView2");
  }

  /**
   * 
   *  Container's getter for SgaordtranSgaordtranFk1Link1
   */
  public ViewLinkImpl getSgaordtranSgaordtranFk1Link1()
  {
    return (ViewLinkImpl)findViewLink("SgaordtranSgaordtranFk1Link1");
  }

  /**
   * 
   *  Container's getter for SgamacExistentView1
   */
  public SgamacExistentViewImpl getSgamacExistentView1()
  {
    return (SgamacExistentViewImpl)findViewObject("SgamacExistentView1");
  }

  /**
   * 
   *  Container's getter for SgaTestEntradaView1
   */
  public SgaTestEntradaViewImpl getSgaTestEntradaView1()
  {
    return (SgaTestEntradaViewImpl)findViewObject("SgaTestEntradaView1");
  }


  /**
   * 
   *  Container's getter for SgaldocEntradesView1
   */
  public SgaldocEntradesViewImpl getSgaldocEntradesView1()
  {
    return (SgaldocEntradesViewImpl)findViewObject("SgaldocEntradesView1");
  }


  /**
   * 
   *  Container's getter for SgabultoldocEntradesLink1
   */
  public ViewLinkImpl getSgabultoldocEntradesLink1()
  {
    return (ViewLinkImpl)findViewLink("SgabultoldocEntradesLink1");
  }

  /**
   * 
   *  Container's getter for SgatrasloView1
   */
  public SgatrasloViewImpl getSgatrasloView1()
  {
    return (SgatrasloViewImpl)findViewObject("SgatrasloView1");
  }


  /**
   * 
   *  Container's getter for SgamacViewOrdtran
   */
  public SgamacViewImpl getSgamacViewOrdtran()
  {
    return (SgamacViewImpl)findViewObject("SgamacViewOrdtran");
  }

  /**
   * 
   *  Container's getter for SgaordtranSgamacViewLink1
   */
  public ViewLinkImpl getSgaordtranSgamacViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaordtranSgamacViewLink1");
  }

  /**
   * 
   *  Container's getter for SgaldocEntradesView3
   */
  public SgaldocEntradesViewImpl getSgaldocEntradesView3()
  {
    return (SgaldocEntradesViewImpl)findViewObject("SgaldocEntradesView3");
  }

  /**
   * 
   *  Container's getter for SgamacView5
   */
  public SgamacViewImpl getSgamacView5()
  {
    return (SgamacViewImpl)findViewObject("SgamacView5");
  }

  /**
   * 
   *  Container's getter for SgaldocEntradesMacViewLink1
   */
  public ViewLinkImpl getSgaldocEntradesMacViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaldocEntradesMacViewLink1");
  }

  /**
   * Crea una linea de detall per una ordre d'entrada i un bulto existent
   * @param cantot
   * @param idart
   * @param key
   */
  public Key crearLiniaDetall(Key key, String idpuesto, String idart, oracle.jbo.domain.Number cantot)
  {
    SgaldocEntradesViewImpl vldocEntrades = getSgaldocEntradesView3();
    SgaldocEntradesViewRowImpl ldocEntrades = (SgaldocEntradesViewRowImpl)vldocEntrades.findByKey(key, 1)[0];
    
    return ldocEntrades.crearLineaDetall(idpuesto, idart, cantot);
  }
  
  /**
   * Crea un document d'entrada manual
   * @param cantot
   * @param idart
   */
  public Key crearDocumentEntrada(String idpuesto, String idart, Number cantot)
  {
      SgacdocEntradesViewImpl vcdoc = (SgacdocEntradesViewImpl)getSgacdocEntradesView1();
      SgacdocEntradesViewRowImpl cdoc = (SgacdocEntradesViewRowImpl)vcdoc.createRow();
      cdoc.setIdtipdoc("EM");
      // Michael Ibermatica 16.11.2009 cdoc.setIdcabnum(new Number(1));
      cdoc.setIdcabnum("SGA/1");
      cdoc.setIdcabstr("SGA");
      cdoc.setNumlineas(new Number(1));
      vcdoc.insertRow(cdoc);
  
      // Creem un bulto pel document
      SgabultoViewRowImpl bulto = (SgabultoViewRowImpl)cdoc.getSgabultoView1().createRow();
        cdoc.getSgabultoView1().insertRow(bulto);
      
      // Necessari 
      getTransaction().postChanges();
      
      // 15.03.2017 Some panels start from Sgavdoc:
//      Number cdocIddoc = cdoc.getIddoc();
//      
//      Key key = cdoc.getKey();
//      SgavcdocViewImpl vvcdoc = (SgavcdocViewImpl)getSgavcdocView2();
//      SgavcdocViewRowImpl crow = (SgavcdocViewRowImpl)vvcdoc.getCurrentRow();
//
//      Number iddoc1 = crow.getIddoc();
// 
//      vvcdoc.findAndSetCurrentRowByKey(cdoc.getKey(), 1);
//      
//      crow = (SgavcdocViewRowImpl)vvcdoc.getCurrentRow();
//      
//      Number iddoc2 = crow.getIddoc();
//      
//      SgaldocEntradesViewImpl vldoc = (SgaldocEntradesViewImpl)getSgaldocEntradesView5();
//      SgaldocEntradesViewRowImpl row = (SgaldocEntradesViewRowImpl)vldoc.first();
//      
//      Number iddocLdoc = row.getIddoc();
      
      
      

      // Creem una linea de detall pel bulto
      return (bulto.getSgabulto().crearLineaDetall(idpuesto, idart, cantot));
  }

  /**
   * 
   *  Container's getter for SgaTestMacView1
   */
  public SgaTestMacViewImpl getSgaTestMacView1()
  {
    return (SgaTestMacViewImpl)findViewObject("SgaTestMacView1");
  }

  /**
   * 
   *  Container's getter for SgaubicacionView2
   */
  public SgaubicacionViewImpl getSgaubicacionView2()
  {
    return (SgaubicacionViewImpl)findViewObject("SgaubicacionView2");
  }

  /**
   * 
   *  Container's getter for SgaubicacionView3
   */
  public SgaubicacionViewImpl getSgaubicacionView3()
  {
    return (SgaubicacionViewImpl)findViewObject("SgaubicacionView3");
  }

  /**
   * 
   *  Container's getter for SgamacubicacionposLink1
   */
  public ViewLinkImpl getSgamacubicacionposLink1()
  {
    return (ViewLinkImpl)findViewLink("SgamacubicacionposLink1");
  }

  /**
   * 
   *  Container's getter for SgamacubicaciondesLink1
   */
  public ViewLinkImpl getSgamacubicaciondesLink1()
  {
    return (ViewLinkImpl)findViewLink("SgamacubicaciondesLink1");
  }

  /**
   * 
   *  Container's getter for SgavmacView1
   */
  public SgavmacViewImpl getSgavmacView1()
  {
    return (SgavmacViewImpl)findViewObject("SgavmacView1");
  }

  /**
   * 
   *  Container's getter for SgavexistenciaView3
   */
  public SgavexistenciaViewImpl getSgavexistenciaView3()
  {
    return (SgavexistenciaViewImpl)findViewObject("SgavexistenciaView3");
  }

  /**
   * 
   *  Container's getter for SgavmacvexistenciaLink1
   */
  public ViewLinkImpl getSgavmacvexistenciaLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavmacvexistenciaLink1");
  }


  /**
   * Mira si hi ha cap reserva pel mac en el puesto, i si hi es, retorna el 
   * registre de la reserva corresponent
   * @return 
   * @param idmac
   */
  public SgaresmatOpManViewRow identificarOperacioMacEnPuesto(String idmac)
  {
    Object [] obj = {idmac};
    Key relKey = null;
    Key key = null;
    Row [] rows = getSgamacView6().findByKey(new Key(obj), 1);
    SgamacViewRowImpl macEnPuesto = null;
    if (rows != null && rows.length > 0)
    {
       macEnPuesto = (SgamacViewRowImpl)rows[0];
       RowIterator resmats = macEnPuesto.getSgaresmatOpManView();
       // Michael 26.01.2015
       // Por algun motivo, la relación mac->reserva devuelve la fila anterior, y no refresca
       // Se recupera la fila correcte a partir del view del AppModule que corresponde con la relación mac->resmat
       // RowIterator resmatsFromRelation = getSgaresmatOpManView2();
       // return (SgaresmatOpManViewRow)resmatsFromRelation.first();
       // Michael 28.01.2015 Problema resuelto quitando definición duplicado de AppModuleDataControl (AppModuleDataControl11) de DataBindings.cpx
       return (SgaresmatOpManViewRow)resmats.first();
       
    }
    else
        throw new JboException(InterflexMessageBundle.class,
                               InterflexMessageBundle.MAC_INEXISTENT,
                               new Object[] {idmac});

  }

  /**
   * Retorna el nombre d'existencies d'un contenidor
   * @return 
   * @param idmac
   */
  public int contenidorAmbExistencies(String idmac)
  {
    int numExistencies = 0;
    Object [] obj = {idmac};
    Row [] rows = getSgamacView6().findByKey(new Key(obj), 1);
    SgamacViewRowImpl macEnPuesto = null;
    if (rows != null && rows.length > 0)
    {
       macEnPuesto = (SgamacViewRowImpl)rows[0];
       RowIterator existencies = macEnPuesto.getSgaexistenciaView();
       if (existencies != null)
         numExistencies = (existencies.getRowCount());
       return numExistencies;
    }
    else
        throw new JboException(InterflexMessageBundle.class,
                               InterflexMessageBundle.MAC_INEXISTENT,
                               new Object[] {idmac});

  }
  

  public RowSet macsEnPuesto(String ubics, String estado)
  {
    getSgamacEnPuestoView1().clearCache();
    getSgamacEnPuestoView1().setWhereClauseParam(0, estado);
    getSgamacEnPuestoView1().setWhereClause("ubipos in (" + ubics + ")");
    getSgamacEnPuestoView1().executeQuery();
    return getSgamacEnPuestoView1().getRowSet();
  }

  /**
   * 
   *  Container's getter for SgamacEnPuestoView1
   */
  public SgamacEnPuestoViewImpl getSgamacEnPuestoView1()
  {
    return (SgamacEnPuestoViewImpl)findViewObject("SgamacEnPuestoView1");
  }



  /**
   * 
   *  Container's getter for SgaresmatOpManView1
   */
  public SgaresmatOpManViewImpl getSgaresmatOpManView1()
  {
    return (SgaresmatOpManViewImpl)findViewObject("SgaresmatOpManView1");
  }


  public String getRetirarMac(String puesto)
  {
    Key key = new Key(new Object[]{puesto});
    getSgapuestomanipView1().clearCache();
    getSgapuestomanipView1().executeQuery();
    Row [] row = getSgapuestomanipView1().findByKey(key, 1);
    if (row.length > 0 && row[0] != null)
    {
      SgapuestomanipViewRowImpl puestoManip = (SgapuestomanipViewRowImpl)row[0];
      return puestoManip.getAutoretirarmac();
    }
    return null;
  }


  public String setRetirarMac(String puesto, String value)
  {
    Key key = new Key(new Object[]{puesto});
    getSgapuestomanipView1().clearCache();
    getSgapuestomanipView1().executeQuery();
    Row [] row = getSgapuestomanipView1().findByKey(key, 1);
    if (row.length > 0 && row[0] != null)
    {
      SgapuestomanipViewRowImpl puestoManip = (SgapuestomanipViewRowImpl)row[0];
      puestoManip.setAutoretirarmac(value);
      getTransaction().commit();
    }
    return null;
  }
  
  
  public String getAutoSortides(String puesto)
  {
    Key key = new Key(new Object[]{puesto});
    getSgapuestomanipView1().clearCache();
    getSgapuestomanipView1().executeQuery();
    Row [] row = getSgapuestomanipView1().findByKey(key, 1);
    if (row.length > 0 && row[0] != null)
    {
      SgapuestomanipViewRowImpl puestoManip = (SgapuestomanipViewRowImpl)row[0];
      return puestoManip.getAutoselordsal();
    }
    return null;
  }


  public String setAutoSortides(String puesto, String value)
  {
    Key key = new Key(new Object[]{puesto});
    getSgapuestomanipView1().clearCache();
    getSgapuestomanipView1().executeQuery();
    Row [] row = getSgapuestomanipView1().findByKey(key, 1);
    if (row.length > 0 && row[0] != null)
    {
      SgapuestomanipViewRowImpl puestoManip = (SgapuestomanipViewRowImpl)row[0];
      puestoManip.setAutoselordsal(value);
      getTransaction().commit();
    }
    return null;
    
  }


  public String getEstatPuesto(String puesto)
  {
    Key key = new Key(new Object[]{puesto});
    getSgapuestomanipView1().clearCache();
    getSgapuestomanipView1().executeQuery();
    Row [] row = getSgapuestomanipView1().findByKey(key, 1);
    if (row.length > 0 && row[0] != null)
    {
      SgapuestomanipViewRowImpl puestoManip = (SgapuestomanipViewRowImpl)row[0];
      return puestoManip.getEstado();
    }
    return null;
  }


  public String setEstatPuesto(String puesto, String value)
  {
    Key key = new Key(new Object[]{puesto});
    getSgapuestomanipView1().clearCache();
    getSgapuestomanipView1().executeQuery();
    Row [] row = getSgapuestomanipView1().findByKey(key, 1);
    if (row.length > 0 && row[0] != null)
    {
      SgapuestomanipViewRowImpl puestoManip = (SgapuestomanipViewRowImpl)row[0];
      puestoManip.setEstado(value);
      getTransaction().commit();
    }
    return null;
  }

  /**
   * Torna la capacitat del pulmo 
   * @return 
   * @param puesto
   */
  public String getCapacitatPulmoPuesto(String puesto, boolean isSlo)
  {
    Key key = new Key(new Object[]{puesto});
    getSgapuestomanipView1().clearCache();
    getSgapuestomanipView1().executeQuery();
    Row [] row = getSgapuestomanipView1().findByKey(key, 1);
    if (row.length > 0 && row[0] != null)
    {
      SgapuestomanipViewRowImpl puestoManip = (SgapuestomanipViewRowImpl)row[0];
      if (isSlo)
      {
        SgaPuestoPickingViewRowImpl ubiPpkSlo = (SgaPuestoPickingViewRowImpl)puestoManip.getSgaubicacionPpkSiloView();
        if (ubiPpkSlo != null)
        {
          if (ubiPpkSlo.getCappul() != null)
            return ubiPpkSlo.getCappul().toString();
        }
      }
      else
      {
        SgaPuestoPickingViewRowImpl ubiPpkMld = (SgaPuestoPickingViewRowImpl)puestoManip.getSgaubicacionPpkMiniLoadView();
        if (ubiPpkMld != null)
        {
          if (ubiPpkMld.getCappul() != null)
            return ubiPpkMld.getCappul().toString();
        }
      }
    }
    return "0";
  }

  /**
   * Estableix la capacitat del pulmo 
   * @return 
   * @param puesto
   */
  public boolean setCapacitatPulmoPuesto(String puesto, Number capacitat, boolean isSlo)
  {
    boolean actualitzat = false;
    Key key = new Key(new Object[]{puesto});
    getSgapuestomanipView1().clearCache();
    getSgapuestomanipView1().executeQuery();
    Row [] row = getSgapuestomanipView1().findByKey(key, 1);
    if (row.length > 0 && row[0] != null)
    {
      SgapuestomanipViewRowImpl puestoManip = (SgapuestomanipViewRowImpl)row[0];
      if (isSlo)
      {
        SgaPuestoPickingViewRowImpl ubiPpkSlo = (SgaPuestoPickingViewRowImpl)puestoManip.getSgaubicacionPpkSiloView();
        if (ubiPpkSlo != null)
        {
          ubiPpkSlo.setCappul(capacitat);
          actualitzat = true;
        }
      }
      else
      {
        SgaPuestoPickingViewRowImpl ubiPpkMld = (SgaPuestoPickingViewRowImpl)puestoManip.getSgaubicacionPpkMiniLoadView();
        if (ubiPpkMld != null)
        {
          ubiPpkMld.setCappul(capacitat);
          actualitzat = true;
        }
      }
    }
    if (actualitzat)
      getTransaction().commit();
    return actualitzat;
  }

  /**
   * Quan no hi ha mï¿½s operacions pendents sobre un mac en el puesto, es crida
   * aquesta funciï¿½ per determinar si (en funciï¿½ del valor del camp autoretirar 
   * de la taula sgapuesto) cal retirar aquest mac
   * @param macEnPuesto
   * @param puesto
   */
  public void quizasRetirarMac(String puesto, String macEnPuesto)
  {
    String retirarMac = getRetirarMac(puesto);
    if ( retirarMac == null || retirarMac.equals("S"))
    {
      Object [] obj = {macEnPuesto};
      Key key = new Key(obj);
      Row [] rows = getSgamacView1().findByKey(key, 1);
      if (rows != null && rows.length > 0)
      {
        SgamacViewRowImpl mac= (SgamacViewRowImpl)rows[0];
        mac.setEstado("X");
        getTransaction().commit();
      }
    }
  }

  public boolean quizasManipular(String puesto)
  {
    boolean manipular = true;
    String retirar = getRetirarMac(puesto);
    if (retirar != null && retirar.equals("S"))
      manipular = false;
    return manipular;    
  }

  /**
   * 
   *  Container's getter for SgamacView6
   */
  public SgamacViewImpl getSgamacView6()
  {
    return (SgamacViewImpl)findViewObject("SgamacView6");
  }

  /**
   * 
   *  Container's getter for SgaresmatOpManView2
   */
  public SgaresmatOpManViewImpl getSgaresmatOpManView2()
  {
    return (SgaresmatOpManViewImpl)findViewObject("SgaresmatOpManView2");
  }

  /**
   * 
   *  Container's getter for SgamacresmatOpManLink1
   */
  public ViewLinkImpl getSgamacresmatOpManLink1()
  {
    return (ViewLinkImpl)findViewLink("SgamacresmatOpManLink1");
  }

  /**
   * 
   *  Container's getter for SgacdocSortidesView1
   */
  public SgacdocSortidesViewImpl getSgacdocSortidesView1()
  {
    return (SgacdocSortidesViewImpl)findViewObject("SgacdocSortidesView1");
  }

  /**
   * 
   *  Container's getter for SgaldocView4
   */
  public SgaldocViewImpl getSgaldocView4()
  {
    return (SgaldocViewImpl)findViewObject("SgaldocView4");
  }

  /**
   * 
   *  Container's getter for SgacdocSortidesldocLink1
   */
  public ViewLinkImpl getSgacdocSortidesldocLink1()
  {
    return (ViewLinkImpl)findViewLink("SgacdocSortidesldocLink1");
  }

  /**
   * 
   *  Container's getter for SgaresmatView5
   */
  public SgaresmatViewImpl getSgaresmatView5()
  {
    return (SgaresmatViewImpl)findViewObject("SgaresmatView5");
  }

  /**
   * 
   *  Container's getter for SgaresmatView6
   */
  public SgaresmatViewImpl getSgaresmatView6()
  {
    return (SgaresmatViewImpl)findViewObject("SgaresmatView6");
  }

  /**
   * 
   *  Container's getter for SgacdocEntradesresmatLink1
   */
  public ViewLinkImpl getSgacdocEntradesresmatLink1()
  {
    return (ViewLinkImpl)findViewLink("SgacdocEntradesresmatLink1");
  }

  /**
   * 
   *  Container's getter for SgacdocSortidesResmatLink1
   */
  public ViewLinkImpl getSgacdocSortidesResmatLink1()
  {
    return (ViewLinkImpl)findViewLink("SgacdocSortidesResmatLink1");
  }

  /**
   * 
   *  Container's getter for SgavocupaciominiloaddetallView1
   */
  public SgavocupaciominiloaddetallViewImpl getSgavocupaciominiloaddetallView1()
  {
    return (SgavocupaciominiloaddetallViewImpl)findViewObject("SgavocupaciominiloaddetallView1");
  }

  /**
   * 
   *  Container's getter for SgavocupaciosilodetallView1
   */
  public SgavocupaciosilodetallViewImpl getSgavocupaciosilodetallView1()
  {
    return (SgavocupaciosilodetallViewImpl)findViewObject("SgavocupaciosilodetallView1");
  }

  /**
   * 
   *  Container's getter for SgavldocView2
   */
  public SgavldocViewImpl getSgavldocView2()
  {
    return (SgavldocViewImpl)findViewObject("SgavldocView2");
  }

  /**
   * 
   *  Container's getter for SgaresmatOpManvldocLink1
   */
  public ViewLinkImpl getSgaresmatOpManvldocLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaresmatOpManvldocLink1");
  }

  /**
   * 
   *  Container's getter for SgavhistexistView1
   */
  public SgavhistexistViewImpl getSgavhistexistView1()
  {
    return (SgavhistexistViewImpl)findViewObject("SgavhistexistView1");
  }

  /**
   * 
   *  Container's getter for SgavbultoView1
   */
  public SgavbultoViewImpl getSgavbultoView1()
  {
    return (SgavbultoViewImpl)findViewObject("SgavbultoView1");
  }



  /**
   * 
   *  Container's getter for SgatipomacSlolovView1
   */
  public SgatipomacSlolovViewImpl getSgatipomacSlolovView1()
  {
    return (SgatipomacSlolovViewImpl)findViewObject("SgatipomacSlolovView1");
  }

  /**
   * 
   *  Container's getter for SgaarticulolovView1
   */
  public SgaarticulolovViewImpl getSgaarticulolovView1()
  {
    return (SgaarticulolovViewImpl)findViewObject("SgaarticulolovView1");
  }

  /**
   * 
   *  Container's getter for SgavtrasloEntSal1
   */
  public SgavtrasloEntSalImpl getSgavtrasloEntSal1()
  {
    return (SgavtrasloEntSalImpl)findViewObject("SgavtrasloEntSal1");
  }

  /**
   * 
   *  Container's getter for SgavordtranpasillotrasloView1
   */
  public SgavordtranpasillotrasloViewImpl getSgavordtranpasillotrasloView1()
  {
    return (SgavordtranpasillotrasloViewImpl)findViewObject("SgavordtranpasillotrasloView1");
  }

  /**
   * 
   *  Container's getter for Sgavordtransalidacurso1
   */
  public SgavordtransalidacursoImpl getSgavordtransalidacurso1()
  {
    return (SgavordtransalidacursoImpl)findViewObject("Sgavordtransalidacurso1");
  }

  /**
   * 
   *  Container's getter for SgavpuestomanipView1
   */
  public SgavpuestomanipViewImpl getSgavpuestomanipView1()
  {
    return (SgavpuestomanipViewImpl)findViewObject("SgavpuestomanipView1");
  }

  /**
   * 
   *  Container's getter for SgamacSenseReservaView1
   */
  public SgamacSenseReservaViewImpl getSgamacSenseReservaView1()
  {
    return (SgamacSenseReservaViewImpl)findViewObject("SgamacSenseReservaView1");
  }

  /**
   * 
   *  Container's getter for SgaventradasCandidateView1
   */
  public SgaventradasCandidateViewImpl getSgaventradasCandidateView1()
  {
    return (SgaventradasCandidateViewImpl)findViewObject("SgaventradasCandidateView1");
  }

  /**
   * 
   *  Container's getter for SgamacView7
   */
  public SgamacViewImpl getSgamacView7()
  {
    return (SgamacViewImpl)findViewObject("SgamacView7");
  }

  /**
   * 
   *  Container's getter for SgaventradascandidateLbultoLink1
   */
  public ViewLinkImpl getSgaventradascandidateLbultoLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaventradascandidateLbultoLink1");
  }

  /**
   * 
   *  Container's getter for SgaentradascandidateMacLink1
   */
  public ViewLinkImpl getSgaentradascandidateMacLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaentradascandidateMacLink1");
  }

  /**
   * 
   *  Container's getter for SgavexistenciaView2
   */
  public SgavexistenciaViewImpl getSgavexistenciaView2()
  {
    return (SgavexistenciaViewImpl)findViewObject("SgavexistenciaView2");
  }

  /**
   * 
   *  Container's getter for SgavsumexistenciaLink1
   */
  public ViewLinkImpl getSgavsumexistenciaLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavsumexistenciaLink1");
  }

  /**
   * 
   *  Container's getter for SgavsalidascandidateView1
   */
  public SgavsalidascandidateViewImpl getSgavsalidascandidateView1()
  {
    return (SgavsalidascandidateViewImpl)findViewObject("SgavsalidascandidateView1");
  }

  /**
   * 
   *  Container's getter for SgamacView8
   */
  public SgamacViewImpl getSgamacView8()
  {
    return (SgamacViewImpl)findViewObject("SgamacView8");
  }

  /**
   * 
   *  Container's getter for SgasalidascandidateSgamacViewLink1
   */
  public ViewLinkImpl getSgasalidascandidateSgamacViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgasalidascandidateSgamacViewLink1");
  }

  /**
   * 
   *  Container's getter for SgasalidascandidateSgaldocViewLink1
   */
  public ViewLinkImpl getSgasalidascandidateSgaldocViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgasalidascandidateSgaldocViewLink1");
  }

  /**
   * 
   *  Container's getter for SgavordtranView1
   */
  public SgavordtranViewImpl getSgavordtranView1()
  {
    return (SgavordtranViewImpl)findViewObject("SgavordtranView1");
  }

  /**
   * 
   *  Container's getter for SgahistordtranView1
   */
  public SgahistordtranViewImpl getSgahistordtranView1()
  {
    return (SgahistordtranViewImpl)findViewObject("SgahistordtranView1");
  }

  /**
   * 
   *  Container's getter for SgabultoView4
   */
  public SgabultoViewImpl getSgabultoView4()
  {
    return (SgabultoViewImpl)findViewObject("SgabultoView4");
  }

  /**
   * 
   *  Container's getter for SgacdocSortidesBultoLink1
   */
  public ViewLinkImpl getSgacdocSortidesBultoLink1()
  {
    return (ViewLinkImpl)findViewLink("SgacdocSortidesBultoLink1");
  }

  /**
   * 
   *  Container's getter for SgalbultoView5
   */
  public SgalbultoViewImpl getSgalbultoView5()
  {
    return (SgalbultoViewImpl)findViewObject("SgalbultoView5");
  }

  /**
   * 
   *  Container's getter for SysC0010962Link2
   */
  public ViewLinkImpl getSysC0010962Link2()
  {
    return (ViewLinkImpl)findViewLink("SysC0010962Link2");
  }

  /**
   * 
   *  Container's getter for SgavhistordtranView1
   */
  public SgavhistordtranViewImpl getSgavhistordtranView1()
  {
    return (SgavhistordtranViewImpl)findViewObject("SgavhistordtranView1");
  }

  /**
   * 
   *  Container's getter for SgavmacpendpuestomldView1
   */
  public SgavmacpendpuestomldViewImpl getSgavmacpendpuestomldView1()
  {
    return (SgavmacpendpuestomldViewImpl)findViewObject("SgavmacpendpuestomldView1");
  }

  /**
   * 
   *  Container's getter for SgavubicacionlibreminiloadView1
   */
  public SgavubicacionlibreminiloadViewImpl getSgavubicacionlibreminiloadView1()
  {
    return (SgavubicacionlibreminiloadViewImpl)findViewObject("SgavubicacionlibreminiloadView1");
  }

  /**
   * 
   *  Container's getter for SgamacView9
   */
  public SgamacViewImpl getSgamacView9()
  {
    return (SgamacViewImpl)findViewObject("SgamacView9");
  }

  /**
   * 
   *  Container's getter for SgavmacpendpuestomldViewLink1
   */
  public ViewLinkImpl getSgavmacpendpuestomldViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavmacpendpuestomldViewLink1");
  }

  /**
   * 
   *  Container's getter for SgavmacpendpuestosloView1
   */
  public SgavmacpendpuestosloViewImpl getSgavmacpendpuestosloView1()
  {
    return (SgavmacpendpuestosloViewImpl)findViewObject("SgavmacpendpuestosloView1");
  }

  /**
   * 
   *  Container's getter for SgamacView10
   */
  public SgamacViewImpl getSgamacView10()
  {
    return (SgamacViewImpl)findViewObject("SgamacView10");
  }

  /**
   * 
   *  Container's getter for SgavmacpendpuestosloViewLink1
   */
  public ViewLinkImpl getSgavmacpendpuestosloViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavmacpendpuestosloViewLink1");
  }

  /**
   * 
   *  Container's getter for SgavestadoentradaslomacView1
   */
  public SgavestadoentradaslomacViewImpl getSgavestadoentradaslomacView1()
  {
    return (SgavestadoentradaslomacViewImpl)findViewObject("SgavestadoentradaslomacView1");
  }

  /**
   * 
   *  Container's getter for SgaubicacionView4
   */
  public SgaubicacionViewImpl getSgaubicacionView4()
  {
    return (SgaubicacionViewImpl)findViewObject("SgaubicacionView4");
  }

  /**
   * 
   *  Container's getter for SgavestadoentradaslomacUbientViewLink1
   */
  public ViewLinkImpl getSgavestadoentradaslomacUbientViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavestadoentradaslomacUbientViewLink1");
  }

  /**
   * Retorna tots els bultos que tenen lbultos que pertanyen al document iddoc i a
   * la linia idlin, i a mï¿½s a mï¿½s estan pendents d'imprimir
   * @return 
   * @param idlin
   * @param iddoc
   */
  public RowIterator llistaBultosPendentsImprimir(String iddoc, String idlin)
  {
    SgabultoViewImpl bulto = getSgabultoView1();
    bulto.clearCache();
    if (idlin != null) // El document encara esta obert
      bulto.setWhereClause("iddoc in (select sgalbulto.iddoc from sgalbulto where sgalbulto.iddoc = '" + iddoc + "' and sgalbulto.idlin = '" + idlin + "') and imprimir = 'S'");
    else // El document ja esta tancat i imprimim totes les etiquetes que no s'han impres
      bulto.setWhereClause("iddoc in (select sgalbulto.iddoc from sgalbulto, sgacdoc where sgalbulto.iddoc = '" + iddoc + "' and sgalbulto.iddoc = sgacdoc.iddoc and sgacdoc.estado in ('F','A')) and (imprimir in ('N','S'))");
    bulto.executeQuery();
    return (RowIterator)bulto.getRowSetIterator();
  }

  /**
   * Retorna cert si cal imprimir el packing list de l'ordre
   * @return 
   * @param idlin
   * @param iddoc
   */
  public boolean imprimirPackingList(String iddoc)
  {
    boolean imprimir = false;
    try
    {
      Object [] obj = {new Number(iddoc)};
      Key key =  new Key(obj);
      Row [] rows = getSgacdocSortidesView1().findByKey(key, 1);
      if (rows != null && rows.length > 0)
      {
        SgacdocSortidesViewRowImpl cdoc = (SgacdocSortidesViewRowImpl)rows[0];
        imprimir = (cdoc.getEstado().equals("F") || cdoc.getEstado().equals("A"));
      }
    }
    catch(Exception ex){};
    return imprimir;
  }

/**
   * 
   * @return cert si es un document de sortida per exportar
   * @param iddoc
   */
  public boolean isExport(String iddoc) 
  {
    boolean export = false;
    try
    {
      Object [] obj = {new Number(iddoc)};
      Key key =  new Key(obj);
      Row [] rows = getSgacdocSortidesView1().findByKey(key, 1);
      if (rows != null && rows.length > 0)
      {
        SgacdocSortidesViewRowImpl cdoc = (SgacdocSortidesViewRowImpl)rows[0];
        export = (cdoc.isExport());
      }
    }
    catch(Exception ex){};
    return export;
    
  }
  /**
   * Activa el flag per comunicar el document al host
   * @return 
   * @param iddoc
   */
  public void setEnviarSortidaHost(String iddoc)
  {
    boolean imprimir = false;
    try
    {
      Object [] obj = {new Number(iddoc)};
      Key key =  new Key(obj);
      Row [] rows = getSgacdocSortidesView1().findByKey(key, 1);
      if (rows != null && rows.length > 0)
      {
        SgacdocSortidesViewRowImpl cdoc = (SgacdocSortidesViewRowImpl)rows[0];
        if (cdoc.getEstcom().equals("N"))
        {
          cdoc.setEstcom("H");
          getTransaction().commit();
        }
      }
    }
    catch(Exception ex){};
  }


  /**
   * Marca el document com que s'ha impres el report resmanlist
   * @return 
   * @param iddoc
   */
  public void setResmanListImpres(String iddoc)
  {
    boolean imprimir = false;
    try
    {
      Object [] obj = {new Number(iddoc)};
      Key key =  new Key(obj);
      Row [] rows = getSgacdocSortidesView1().findByKey(key, 1);
      if (rows != null && rows.length > 0)
      {
        SgacdocSortidesViewRowImpl cdoc = (SgacdocSortidesViewRowImpl)rows[0];
        if (cdoc.getImprimir().equals("S"))
        {
          cdoc.setImprimir("N");
          getTransaction().commit();
        }
      }
    }
    catch(Exception ex){};
  }

  /**
   * 
   *  Container's getter for SgavposicionplcView1
   */
  public SgavposicionplcViewImpl getSgavposicionplcView1()
  {
    return (SgavposicionplcViewImpl)findViewObject("SgavposicionplcView1");
  }

  /**
   * 
   *  Container's getter for SgavordtranVPosicionplcViewLink1
   */
  public ViewLinkImpl getSgavordtranVPosicionplcViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavordtranVPosicionplcViewLink1");
  }


  /**
   * Treu un contenidor del magatzem a un lloc de treball
   */

  public boolean treureContenidorMagatzem(String idmac, String desti, String puesto)
  {
    ViewObject vo = findViewObject("SgamacView1");
    vo.clearCache();
    vo.setWhereClause(null);
    vo.setWhereClause("idmac = '" + idmac + "'");
    vo.executeQuery();
    SgamacViewRowImpl macRow = (SgamacViewRowImpl)vo.first();      
    vo.setWhereClause(null);
    if (macRow == null)
      return false;
      
    // Si el destï¿½ es null, vol dir que es un puesto de manipulaciï¿½ i que s'ha
    // de buscar el destï¿½ automaticament
    if (desti == null)
    {
      boolean silo = !macRow.getIdtipmac().equals("CUB");
      desti = getUbicacionPuesto(puesto, silo ? SgaubicacionImpl.SILO : SgaubicacionImpl.MINILOAD);
    }
    if (desti != null)
    {
      ViewObject voubi = findViewObject("SgaubicacionView1");
      voubi.setWhereClause("idUbi = '" + desti + "'");
      voubi.executeQuery();
      if (!voubi.hasNext())
        return false;
      
      // Sempre se li passa el traslo 0 ...
      int traslo = 0;
      
      return macRow.getSgamac().quizasReservarMacSalida(desti, traslo);
    }   
    return false;
  }


  /**
   * 
   *  Container's getter for SgavordtranpendtraslosloView1
   */
  public SgavordtranpendtraslosloViewImpl getSgavordtranpendtraslosloView1()
  {
    return (SgavordtranpendtraslosloViewImpl)findViewObject("SgavordtranpendtraslosloView1");
  }

  /**
   * 
   *  Container's getter for SgaordtranView3
   */
  public SgaordtranViewImpl getSgaordtranView3()
  {
    return (SgaordtranViewImpl)findViewObject("SgaordtranView3");
  }

  /**
   * 
   *  Container's getter for SgavordtranpendtraslosloOrdtranViewLink1
   */
  public ViewLinkImpl getSgavordtranpendtraslosloOrdtranViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavordtranpendtraslosloOrdtranViewLink1");
  }
  
  /**
   * Inserta una capï¿½alera nova provinent del host
   * @return 
   * @param cabecera
   */
  public Number insertarCabecera(ResultSet cabecera) 
  {
    // Insertem el registre corresponent a cdoc    
    SgacdocDefImpl cdocDef = (SgacdocDefImpl)SgacdocImpl.getDefinitionObject();
    SgacdocImpl cdoc = cdocDef.insertarCabecera(this.getDBTransaction(), cabecera);
    if (cdoc != null)
      return cdoc.getIddoc();
    else
      return null;
  }

  /**
   * Inserta un detall nou provinent del host
   * @return 
   * @param detalle
   * @param iddoc
   */
  public boolean insertarDetalle(Number iddoc, ResultSet detalle) 
  {
    // Insertem el registre corresponent a ldoc    
    SgaldocDefImpl ldocDef = (SgaldocDefImpl)SgaldocImpl.getDefinitionObject();
    return (ldocDef.insertarDetalle(this.getDBTransaction(), iddoc, detalle));
  }

  /**
   * Insertar un registro de etiqueta del host
   * @return 
   * @param etiqueta
   * @param iddoc
   */
  public boolean insertarEtiqueta(Number iddoc, ResultSet etiqueta) 
  {
    // Insertem el registre corresponent a etiqueta 
    SgaetiquetaDefImpl etiquetaDef = (SgaetiquetaDefImpl)SgaetiquetaImpl.getDefinitionObject();
    return (etiquetaDef.insertarEtiqueta(this.getDBTransaction(), iddoc, etiqueta));
  }


  /**
   * Inserta un bulto (si cal) i el seu lbulto corresponent provinents del host
   * @return 
   * @param bulto
   * @param iddoc
   */
  public boolean insertarBulto(Number iddoc, ResultSet bulto) 
  {
    // Insertem el registre corresponent a ldoc    
    SgabultoDefImpl bultoDef = (SgabultoDefImpl)SgabultoImpl.getDefinitionObject();
    if (bultoDef.insertarBulto(this.getDBTransaction(), iddoc, bulto))
    {
      SgalbultoDefImpl lbultoDef = (SgalbultoDefImpl)SgalbultoImpl.getDefinitionObject();
      return (lbultoDef.insertarLbulto(this.getDBTransaction(), iddoc, bulto));
    }
    return false;
  }
  
  
  /**
   * Insertar una referencia que el host envia perque sigui donada d'alta
   * @return 
   * @param referencia
   */
  public String insertarReferencia(ResultSet referencia)
  {
    // Insertem la referencia    
    SgaarticuloDefImpl articuloDef = (SgaarticuloDefImpl)SgaarticuloImpl.getDefinitionObject();
    return (articuloDef.insertarReferencia(this.getDBTransaction(), referencia));
  }

  /**
   * Actualitzar una referencia que el host envia perque sigui modificada
   * @return 
   * @param referencia
   */
  public String actualitzarReferencia(ResultSet referencia)
  {
    // Insertem la referencia    
    SgaarticuloDefImpl articuloDef = (SgaarticuloDefImpl)SgaarticuloImpl.getDefinitionObject();
    return (articuloDef.actualitzarReferencia(this.getDBTransaction(), referencia));
  }


  /**
   * Eliminar una referencia que el host envia perque sigui eliminada
   * @return 
   * @param referencia
   */
  public String eliminarReferencia(ResultSet referencia)
  {
    // Eliminem la referencia    
    SgaarticuloDefImpl articuloDef = (SgaarticuloDefImpl)SgaarticuloImpl.getDefinitionObject();
    return (articuloDef.eliminarReferencia(this.getDBTransaction(), referencia));
  }

  /**
   * 
   *  Container's getter for SgaarticuloExistView1
   */
  public SgaarticuloExistViewImpl getSgaarticuloExistView1()
  {
    return (SgaarticuloExistViewImpl)findViewObject("SgaarticuloExistView1");
  }

  /**
   * 
   *  Container's getter for SgabultoExistView1
   */
  public SgabultoExistViewImpl getSgabultoExistView1()
  {
    return (SgabultoExistViewImpl)findViewObject("SgabultoExistView1");
  }

  /**
   * 
   *  Container's getter for SgacdocExistView1
   */
  public SgacdocExistViewImpl getSgacdocExistView1()
  {
    return (SgacdocExistViewImpl)findViewObject("SgacdocExistView1");
  }

  /**
   * 
   *  Container's getter for SgatipmaclbultoView1
   */
  public SgatipmaclbultoViewImpl getSgatipmaclbultoView1()
  {
    return (SgatipmaclbultoViewImpl)findViewObject("SgatipmaclbultoView1");
  }
 
  
  /**
   * Retorna totes les entrades que s'han d'enviar al host
   * @return 
   * @param idlin
   * @param iddoc
   */
  public RowIterator llistaEntradesPendentsComunicar()
  {
    SgacdocEntradesViewImpl cdocEntrades= getSgacdocEntradesView1();
    cdocEntrades.clearCache();
    cdocEntrades.setWhereClause("estcom in ('H', 'Z')");
    cdocEntrades.executeQuery();
    return (RowIterator)cdocEntrades.getRowSetIterator();
  }

  /**
   * Retorna totes les sortides que s'han d'enviar al host
   * @return 
   * @param idlin
   * @param iddoc
   */
  public RowIterator llistaSortidesPendentsComunicar()
  {
    SgacdocSortidesViewImpl cdocSortides= getSgacdocSortidesView1();
    cdocSortides.clearCache();
    cdocSortides.setWhereClause("estcom in ('H', 'Z')");
    cdocSortides.executeQuery();
    return (RowIterator)cdocSortides.getRowSetIterator();
  }


  /**
   * Retorna tots els moviments que s'han d'enviar al host
   * @return 
   * @param idlin
   * @param iddoc
   */
  public RowIterator llistaMovimentsPendentsComunicar()
  {
    SgamovimientoViewImpl movimiento= getSgamovimientoView1();
    movimiento.clearCache();
    movimiento.setWhereClause("estado in ('H', 'Z')");
    movimiento.executeQuery();
    return (RowIterator)movimiento.getRowSetIterator();
  }


  /**
   * Retorna tots els stocks que s'han d'enviar al host
   * @return 
   * @param idlin
   * @param iddoc
   */
  public RowIterator llistaStocksPendentsComunicar()
  {
    SgastockViewImpl stock= getSgastockView1();
    stock.clearCache();
    stock.setWhereClause("estado in ('N', 'A', 'B', 'H', 'Z')");
    stock.executeQuery();
    return (RowIterator)stock.getRowSetIterator();
  }


  /**
   * 
   *  Container's getter for SgavubicacionlibresloView1
   */
  public SgavubicacionlibresloViewImpl getSgavubicacionlibresloView1()
  {
    return (SgavubicacionlibresloViewImpl)findViewObject("SgavubicacionlibresloView1");
  }

  /**
   * 
   *  Container's getter for SgaposicionubicacionView4
   */
  public SgaposicionubicacionViewImpl getSgaposicionubicacionView4()
  {
    return (SgaposicionubicacionViewImpl)findViewObject("SgaposicionubicacionView4");
  }

  /**
   * 
   *  Container's getter for SgavubicacionlibresloUbicacionposicionLink1
   */
  public ViewLinkImpl getSgavubicacionlibresloUbicacionposicionLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavubicacionlibresloUbicacionposicionLink1");
  }

  /**
   * 
   *  Container's getter for SgaposicionubicacionView5
   */
  public SgaposicionubicacionViewImpl getSgaposicionubicacionView5()
  {
    return (SgaposicionubicacionViewImpl)findViewObject("SgaposicionubicacionView5");
  }

  /**
   * 
   *  Container's getter for SgavubicacionlibreminiloadSgaposicionubicacionLink1
   */
  public ViewLinkImpl getSgavubicacionlibreminiloadSgaposicionubicacionLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavubicacionlibreminiloadSgaposicionubicacionLink1");
  }

  /**
   * 
   *  Container's getter for SgastockView1
   */
  public SgastockViewImpl getSgastockView1()
  {
    return (SgastockViewImpl)findViewObject("SgastockView1");
  }

  /**
   * 
   *  Container's getter for SgamovimientoView1
   */
  public SgamovimientoViewImpl getSgamovimientoView1()
  {
    return (SgamovimientoViewImpl)findViewObject("SgamovimientoView1");
  }

  /**
   * 
   *  Container's getter for SgavordtranpendtrasloextraView1
   */
  public SgavordtranpendtrasloextraViewImpl getSgavordtranpendtrasloextraView1()
  {
    return (SgavordtranpendtrasloextraViewImpl)findViewObject("SgavordtranpendtrasloextraView1");
  }

  /**
   * 
   *  Container's getter for SgaordtranView4
   */
  public SgaordtranViewImpl getSgaordtranView4()
  {
    return (SgaordtranViewImpl)findViewObject("SgaordtranView4");
  }

  /**
   * 
   *  Container's getter for SgavestadoentradaslomacMacViewLink1
   */
  public ViewLinkImpl getSgavestadoentradaslomacMacViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavestadoentradaslomacMacViewLink1");
  }

  /**
   * 
   *  Container's getter for SgavpasillocandidateView1
   */
  public SgavpasillocandidateViewImpl getSgavpasillocandidateView1()
  {
    return (SgavpasillocandidateViewImpl)findViewObject("SgavpasillocandidateView1");
  }


  /**
   * 
   *  Container's getter for SgavbultoDispSortidaView1
   */
  public SgavbultoDispSortidaViewImpl getSgavbultoDispSortidaView1()
  {
    return (SgavbultoDispSortidaViewImpl)findViewObject("SgavbultoDispSortidaView1");
  }

  /**
   * 
   *  Container's getter for SgaresmatOpManvbultoDispSortidaLink1
   */
  public ViewLinkImpl getSgaresmatOpManvbultoDispSortidaLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaresmatOpManvbultoDispSortidaLink1");
  }

  /**
   * 
   *  Container's getter for SgavsummacSenseExistenciesView1
   */
  public SgavsummacSenseExistenciesViewImpl getSgavsummacSenseExistenciesView1()
  {
    return (SgavsummacSenseExistenciesViewImpl)findViewObject("SgavsummacSenseExistenciesView1");
  }



  /**
   * 
   *  Container's getter for SgavmacSenseExistenciesView1
   */
  public SgavmacSenseExistenciesViewImpl getSgavmacSenseExistenciesView1()
  {
    return (SgavmacSenseExistenciesViewImpl)findViewObject("SgavmacSenseExistenciesView1");
  }

  /**
   * 
   *  Container's getter for SgavsummacSenseExistenciesViewLink1
   */
  public ViewLinkImpl getSgavsummacSenseExistenciesViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavsummacSenseExistenciesViewLink1");
  }

  /**
   * 
   *  Container's getter for SgavdocsObertsView1
   */
  public SgavdocsObertsViewImpl getSgavdocsObertsView1()
  {
    return (SgavdocsObertsViewImpl)findViewObject("SgavdocsObertsView1");
  }

  /**
   * 
   *  Container's getter for SgavsalidasinasignarpuestoView1
   */
  public SgavsalidasinasignarpuestoViewImpl getSgavsalidasinasignarpuestoView1()
  {
    return (SgavsalidasinasignarpuestoViewImpl)findViewObject("SgavsalidasinasignarpuestoView1");
  }

  /**
   * 
   *  Container's getter for SgavsalidascandidateNoUpdateView1
   */
  public SgavsalidascandidateNoUpdateViewImpl getSgavsalidascandidateNoUpdateView1()
  {
    return (SgavsalidascandidateNoUpdateViewImpl)findViewObject("SgavsalidascandidateNoUpdateView1");
  }

  /**
   * 
   *  Container's getter for SgavldocunicalineaView1
   */
  public SgavldocunicalineaViewImpl getSgavldocunicalineaView1()
  {
    return (SgavldocunicalineaViewImpl)findViewObject("SgavldocunicalineaView1");
  }

  /**
   * 
   *  Container's getter for SgaldocView6
   */
  public SgaldocViewImpl getSgaldocView6()
  {
    return (SgaldocViewImpl)findViewObject("SgaldocView6");
  }

  /**
   * 
   *  Container's getter for SgavldocunicalineaLdocViewLink1
   */
  public ViewLinkImpl getSgavldocunicalineaLdocViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavldocunicalineaLdocViewLink1");
  }

  /**
   * Retorna cert si encara no s'ha confirmat cap moviment per una ordre de sortida
   * @return 
   * @param iddoc
   */
  public boolean ordreSortidaNova(Number iddoc)
  {
    boolean ordreNova = true;
    Object [] obj = {iddoc};
    Key key = new Key(obj);
    Row[] rows = getSgacdocSortidesView1().findByKey(key, 1);
    if (rows != null && rows.length > 0)
    {
      SgacdocSortidesViewRowImpl cdoc = (SgacdocSortidesViewRowImpl)rows[0];
      RowIterator linies = cdoc.getSgaldocView1();
      linies.reset();
      while (linies.hasNext() && ordreNova)
      {
        SgaldocViewRowImpl ldoc = (SgaldocViewRowImpl)linies.next();
        if (ldoc.getCantot().compareTo(ldoc.getCanpen().add(ldoc.getCanres())) > 0)
          ordreNova = false;
      }
    }
    return (ordreNova);
  }



  /**
   * Retorna cert si hi ha reserves manuals pel document de sortida
   * @return 
   * @param iddoc
   */
  public boolean ordreAmbReservesManuals(Number iddoc)
  {
    Object [] obj = {iddoc};
    Key key = new Key(obj);
    Row[] rows = getSgacdocSortidesView1().findByKey(key, 1);
    if (rows != null && rows.length > 0)
    {
      SgacdocSortidesViewRowImpl cdoc = (SgacdocSortidesViewRowImpl)rows[0];
      if (cdoc.getImprimir() != null && cdoc.getImprimir().equals("S"))
      {
        RowIterator resman = cdoc.getSgaresmatmanView();
        return (resman.getRowCount() > 0);
      }
    }
    return (false);
  }


  /**
   * Retorna cert si hi ha reserves manuals pendents d'imprimir
   * @return 
   * @param iddoc
   */
  public boolean hasResmanPendentsImprimir()
  {
    getSgavresmanPendentsImprimirView1().executeQuery();
    return (getSgavresmanPendentsImprimirView1().getRowCount() > 0);
  }

  /**
   * 
   *  Container's getter for SgavsalidascandidatemacpuestoView1
   */
  public SgavsalidascandidatemacpuestoViewImpl getSgavsalidascandidatemacpuestoView1()
  {
    return (SgavsalidascandidatemacpuestoViewImpl)findViewObject("SgavsalidascandidatemacpuestoView1");
  }

  /**
   * 
   *  Container's getter for SgamacView11
   */
  public SgamacViewImpl getSgamacView11()
  {
    return (SgamacViewImpl)findViewObject("SgamacView11");
  }

  /**
   * 
   *  Container's getter for SgaldocView7
   */
  public SgaldocViewImpl getSgaldocView7()
  {
    return (SgaldocViewImpl)findViewObject("SgaldocView7");
  }

  /**
   * 
   *  Container's getter for SgavsalidascandidatemacpuestoSgamacViewLink1
   */
  public ViewLinkImpl getSgavsalidascandidatemacpuestoSgamacViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavsalidascandidatemacpuestoSgamacViewLink1");
  }

  /**
   * 
   *  Container's getter for SgavsalidascandidatemacpuestoSgaldocViewLink1
   */
  public ViewLinkImpl getSgavsalidascandidatemacpuestoSgaldocViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavsalidascandidatemacpuestoSgaldocViewLink1");
  }

  /**
   * 
   *  Container's getter for SgaventradaspendienteView1
   */
  public SgaventradaspendienteViewImpl getSgaventradaspendienteView1()
  {
    return (SgaventradaspendienteViewImpl)findViewObject("SgaventradaspendienteView1");
  }
  
  /**
   * Obte la disponibilitat d'una existï¿½ncia
   * @return 
   * @param bulto
   * @param iddoc
   */
  public Vector getDisponibilitat(String idmac, String idart)
  {
    Object [] obj = {idmac, idart};
    Key key = new Key(obj);
    
    SgaexistenciaDefImpl existDef = (SgaexistenciaDefImpl)SgaexistenciaImpl.getDefinitionObject();
    return existDef.getDisponibilitat(getDBTransaction(), key);
  }

  /**
   * 
   *  Container's getter for SgavpasillosintrasloView1
   */
  public SgavpasillosintrasloViewImpl getSgavpasillosintrasloView1()
  {
    return (SgavpasillosintrasloViewImpl)findViewObject("SgavpasillosintrasloView1");
  }

  /**
   * 
   *  Container's getter for SgavubicacionInspeccionView1
   */
  public SgavubicacionInspeccionViewImpl getSgavubicacionInspeccionView1()
  {
    return (SgavubicacionInspeccionViewImpl)findViewObject("SgavubicacionInspeccionView1");
  }


  /**
   * Verifica si l'usuari/password son correctes
   * @return Cert si esta autoritzat, fals en cas contrari
   */
  public boolean checkUser(String user, String password)
  {

    boolean correctUser = false;
    Key userKey = new Key(new Object[]{user});
    
    LOG.info("This is AppModule,just testing");
    
    Row [] userKeyRows = getSgauserView1().findByKey(userKey, 1);
    if (userKeyRows.length > 0)
    {
      Row foundUser = userKeyRows[0];
      if (foundUser != null)
        if (password.equals(foundUser.getAttribute("Idpassword")))
          correctUser = true;
    }
    return correctUser;
  }

  /**
   * 
   *  Container's getter for SgavmovsusuariView1
   */
  public SgavmovsusuariViewImpl getSgavmovsusuariView1()
  {
    return (SgavmovsusuariViewImpl)findViewObject("SgavmovsusuariView1");
  }

  /**
   * 
   *  Container's getter for SgavmovscontenidorsView1
   */
  public SgavmovscontenidorsViewImpl getSgavmovscontenidorsView1()
  {
    return (SgavmovscontenidorsViewImpl)findViewObject("SgavmovscontenidorsView1");
  }


  public void netejarBD()
  {
    CallableStatement st1 = null;
    try {
      String stmt = "BEGIN maputil.netejarBD(); END;";
      DBTransaction tr = getDBTransaction();
      st1 = tr.createCallableStatement(stmt,1);
      //st1.setDate(1,(Date.getCurrentDate().addJulianDays(-1,0)).dateValue());
      int rows = st1.executeUpdate();
    }
    catch (SQLException s) {
      getDBTransaction().rollback();
      throw new JboException(s);
    }
    finally {
      try {
        if (st1 != null) st1.close();
      }
      catch (SQLException s) { /* ignore */}
    }    
  }

  /**
   * 
   *  Container's getter for SgavordtranpendtraslosalextraView1
   */
  public SgavordtranpendtraslosalextraViewImpl getSgavordtranpendtraslosalextraView1()
  {
    return (SgavordtranpendtraslosalextraViewImpl)findViewObject("SgavordtranpendtraslosalextraView1");
  }

  /**
   * 
   *  Container's getter for Sgadifstockhost1
   */
  public SgadifstockhostImpl getSgadifstockhost1()
  {
    return (SgadifstockhostImpl)findViewObject("Sgadifstockhost1");
  }

  /**
   * 
   *  Container's getter for SgaubicacionmanlovView1
   */
  public SgaubicacionmanlovViewImpl getSgaubicacionmanlovView1()
  {
    return (SgaubicacionmanlovViewImpl)findViewObject("SgaubicacionmanlovView1");
  }

  /**
   * 
   *  Container's getter for SgaresmatmanView1
   */
  public SgaresmatmanViewImpl getSgaresmatmanView1()
  {
    return (SgaresmatmanViewImpl)findViewObject("SgaresmatmanView1");
  }

  /**
   * 
   *  Container's getter for SgacdocSortidesResmatmanLink1
   */
  public ViewLinkImpl getSgacdocSortidesResmatmanLink1()
  {
    return (ViewLinkImpl)findViewLink("SgacdocSortidesResmatmanLink1");
  }

  /**
   * 
   *  Container's getter for SgavsalidascandidateresmanView1
   */
  public SgavsalidascandidateresmanViewImpl getSgavsalidascandidateresmanView1()
  {
    return (SgavsalidascandidateresmanViewImpl)findViewObject("SgavsalidascandidateresmanView1");
  }

  /**
   * Retorna cert si hi ha encara sortides pendents desde el magatzem automï¿½tic
   * per un document de sortida, o fals en cas contrari
   */
  public boolean hasMoreSortidesAuto(String iddoc)
  {
    getSgavsalidascandidateresmanView1().setWhereClauseParam(0, iddoc);
    getSgavsalidascandidateresmanView1().executeQuery();
    return (getSgavsalidascandidateresmanView1().getRowCount() > 0);
  }

  /**
   * 
   *  Container's getter for SgavsalidascandidatemanualView1
   */
  public SgavsalidascandidatemanualViewImpl getSgavsalidascandidatemanualView1()
  {
    return (SgavsalidascandidatemanualViewImpl)findViewObject("SgavsalidascandidatemanualView1");
  }

  /**
   * 
   *  Container's getter for SgaldocView8
   */
  public SgaldocViewImpl getSgaldocView8()
  {
    return (SgaldocViewImpl)findViewObject("SgaldocView8");
  }

  /**
   * 
   *  Container's getter for SgavsaldiascandidatemanualLdocViewLink1
   */
  public ViewLinkImpl getSgavsaldiascandidatemanualLdocViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavsaldiascandidatemanualLdocViewLink1");
  }


  /**
   * 
   *  Container's getter for SgaresmatmanView2
   */
  public SgaresmatmanViewImpl getSgaresmatmanView2()
  {
    return (SgaresmatmanViewImpl)findViewObject("SgaresmatmanView2");
  }

  /**
   * 
   *  Container's getter for SgacdocSortidesresmanLocatorViewLink1
   */
  public ViewLinkImpl getSgacdocSortidesresmanLocatorViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgacdocSortidesresmanLocatorViewLink1");
  }

  /**
   * 
   *  Container's getter for SgavmovsusuariresumView1
   */
  public SgavmovsusuariresumViewImpl getSgavmovsusuariresumView1()
  {
    return (SgavmovsusuariresumViewImpl)findViewObject("SgavmovsusuariresumView1");
  }

  /**
   * 
   *  Container's getter for SgaliniestreballadesView1
   */
  public SgaliniestreballadesViewImpl getSgaliniestreballadesView1()
  {
    return (SgaliniestreballadesViewImpl)findViewObject("SgaliniestreballadesView1");
  }

  /**
   * 
   *  Container's getter for SgavresmanPendentsImprimirView1
   */
  public SgavresmanPendentsImprimirViewImpl getSgavresmanPendentsImprimirView1()
  {
    return (SgavresmanPendentsImprimirViewImpl)findViewObject("SgavresmanPendentsImprimirView1");
  }


  /**
   * 
   *  Container's getter for SgaestatpassadisView1
   */
  public SgaRefCodesViewImpl getSgaestatpassadisView1()
  {
    return (SgaRefCodesViewImpl)findViewObject("SgaestatpassadisView1");
  }

  /**
   * 
   *  Container's getter for SgapasilloView1
   */
  public SgapasilloViewImpl getSgapasilloView1()
  {
    return (SgapasilloViewImpl)findViewObject("SgapasilloView1");
  }

  /**
   * 
   *  Container's getter for SgavarticulomodpesView1
   */
  public SgavarticulomodpesViewImpl getSgavarticulomodpesView1()
  {
    return (SgavarticulomodpesViewImpl)findViewObject("SgavarticulomodpesView1");
  }

  /**
   * 
   *  Container's getter for SgagrantuserView1
   */
  public SgagrantuserViewImpl getSgagrantuserView1()
  {
    return (SgagrantuserViewImpl)findViewObject("SgagrantuserView1");
  }

  /**
   * 
   *  Container's getter for SgaroleView1
   */
  public SgaroleViewImpl getSgaroleView1()
  {
    return (SgaroleViewImpl)findViewObject("SgaroleView1");
  }

  /**
   * 
   *  Container's getter for SgauserRoleGrantedViewLink1
   */
  public ViewLinkImpl getSgauserRoleGrantedViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgauserRoleGrantedViewLink1");
  }

  /**
   * 
   *  Container's getter for SgaRoleNotGrantedView1
   */
  public SgaRoleNotGrantedViewImpl getSgaRoleNotGrantedView1()
  {
    return (SgaRoleNotGrantedViewImpl)findViewObject("SgaRoleNotGrantedView1");
  }
  
  public boolean isAdministrador()
  {
    return hasRole("SGAADMINISTRADOR");
  }
  
  public boolean isUserModPes()
  {
    return hasRole("SGAMODPES") || isAdministrador();
  }

  public boolean isUserModPermisTraslo()
  {
    return hasRole("SGAMODTRASLO") || isAdministrador();
  }
  
  
  public boolean isUserModTransportista ()
  {
    return hasRole("SGAMODTRANSP") || isAdministrador();
  }
  /**
   *
   * Verifica si l'usuari actual te el rol especificat com a parametre
   * Michael 19.09.2005 Si es administrador, tiene acceso a todo
   */

  public boolean hasRole(String role)
  {
    String currentUser = getCurrentUser();
    if (currentUser != null)
    {
      if (currentUser.equals("root"))
        return true;
      else
      {
        SgagrantuserViewImpl view = getSgagrantuserView2(); // Sin relación a user
        return view.hasRole(currentUser, role);
      }
    }
    return false;
  }

  private String getCurrentUser()
  {
    return (String)getSession().getEnvironment().get(JboContext.SECURITY_PRINCIPAL);
  }

  /**
   * 
   *  Container's getter for SgagrantuserView2
   */
  public SgagrantuserViewImpl getSgagrantuserView2()
  {
    return (SgagrantuserViewImpl)findViewObject("SgagrantuserView2");
  }


  public void regularizarTablaStock(String idArt, Number cantot)
  {
    SgastockViewImpl stockView = getSgastockView1();
    stockView.setWhereClause("idart = '" + idArt + "'");
    stockView.executeQuery();
    stockView.reset();
    SgastockViewRowImpl row = (SgastockViewRowImpl)stockView.first();
    if (row != null)
    {
      row.regularizarStock(cantot);
    }
    else
      throw new JboException(InterflexMessageBundle.class,
                 InterflexMessageBundle.IDEXIST_NOEXISTE,
                 new Object[] {idArt});

  }
  
  
  public SgavubicacionlibreminiloadViewRow getUbiLibre(String rotacion)
  {
    SgavubicacionlibreminiloadViewImpl ubicacionMld = getSgavubicacionlibreminiloadView1();
    ubicacionMld.clearCache();
    // Michael 15.03.2017 
    ubicacionMld.setOrderByClause("abs(ascii('" + rotacion + "') - (ascii(rotacion) + (posicion - 1))) asc, udistancia asc");

    
    System.out.println("abs: " + "abs(ascii('" + rotacion + "') - (ascii(rotacion) + (posicion - 1))");
    System.out.println("ascii(rotacion):" + (int)(rotacion.charAt(0)));

    // abs: abs(ascii('C') - (ascii(rotacion) + (posicion - 1)) 
    // ascii(rotacion):67

    
    ubicacionMld.executeQuery();
    return (SgavubicacionlibreminiloadViewRow)ubicacionMld.first();
  }
  
  /**
   * Michael 12.07.2006 Buscar ubicación en el miniload para un mac que está en la mesa de entrada del miniload
   * TODO: Hay que ver donde extraer la rotación aquí
   * @param mac
   */
  public void generarDepositoMacMLD(SgamacImpl mac)
  {
    SgavubicacionlibreminiloadViewRow ubi = getUbiLibre("A"); // TODO - de donde sacar la rotación
    // TODO - y si getUbino existe la ubicación
    mac.reservarMovimientoEntradaMLD(ubi.getIdubi(), ubi.getPosicion());
    getTransaction().commit();
    
  }
  
  
  


  /**
   * 
   *  Container's getter for SgaetiquetaExist1
   */
  public SgaetiquetaExistImpl getSgaetiquetaExist1()
  {
    return (SgaetiquetaExistImpl)findViewObject("SgaetiquetaExist1");
  }

  /**
   * 
   *  Container's getter for SgamacPos44PendPesoView1
   */
  public SgamacPos44PendPesoViewImpl getSgamacPos44PendPesoView1()
  {
    return (SgamacPos44PendPesoViewImpl)findViewObject("SgamacPos44PendPesoView1");
  }

  /**
   * 
   *  Container's getter for SgavordtranMLDAgrup1
   */
  public SgavordtranMLDAgrupImpl getSgavordtranMLDAgrup1()
  {
    return (SgavordtranMLDAgrupImpl)findViewObject("SgavordtranMLDAgrup1");
  }

  /**
   * 
   *  Container's getter for SgavcompararmanautoView1
   */
  public SgavcompararmanautoViewImpl getSgavcompararmanautoView1()
  {
    return (SgavcompararmanautoViewImpl)findViewObject("SgavcompararmanautoView1");
  }

  /**
   * 
   *  Container's getter for SgaVTrasloTrasbordoView1
   */
  public SgaVTrasloTrasbordoViewImpl getSgaVTrasloTrasbordoView1()
  {
    return (SgaVTrasloTrasbordoViewImpl)findViewObject("SgaVTrasloTrasbordoView1");
  }


  public boolean IsTrasloBloqueadoEnPasillo(int traslo)
  {
    SgaVTrasloTrasbordoViewImpl trasbordoView = getSgaVTrasloTrasbordoView1();
    trasbordoView.setWhereClause("idTraslo = '" + traslo + "'");
    trasbordoView.executeQuery();
    SgaVTrasloTrasbordoViewRowImpl row = (SgaVTrasloTrasbordoViewRowImpl)trasbordoView.first();
    if (row.getPermisTrasbordo().equals("S"))
      return (false);
    else
      return (true);
    
  }


  /**
   * 
   *  Container's getter for SgaochoaView1
   */
  public SgaochoaViewImpl getSgaochoaView1()
  {
    return (SgaochoaViewImpl)findViewObject("SgaochoaView1");
  }
  

  public SgatdnpobViewRowImpl getTdnpobViewRow (String codPostal)
  {
    SgatdnpobViewImpl vi = getSgatdnpobView1();
    String codPostal7 = ("0000000" + codPostal).substring(codPostal.length());
    vi.setWhereClauseParam(0, codPostal7);
    vi.executeQuery();
    SgatdnpobViewRowImpl row = (SgatdnpobViewRowImpl)vi.first();
    return row;
  }

  public String getRamonedaNombreRuta (String codPostal)
  {
    SgaRamonedaRutaViewImpl vi = getSgaRamonedaRutaView1();
    vi.setWhereClauseParam(0, codPostal);
    vi.executeQuery();
    SgaRamonedaRutaViewRowImpl row = (SgaRamonedaRutaViewRowImpl)vi.first();
    if (row != null)
      return row.getNombreRuta();
      
    return (null);
    
  }
  

  public SgaochoaViewRowImpl getSgaochoaViewRowImpl(String codPostal)
  {
    SgaochoaViewImpl vi = getSgaochoaView1();
    vi.setWhereClauseParam(0, codPostal);
    vi.executeQuery();
    SgaochoaViewRowImpl row = (SgaochoaViewRowImpl)vi.first();
    if (row != null)
      return row;
  
    // Si no, buscar por la misma poblacion
    codPostal = codPostal.substring(0, 2) + "%";
    vi.setWhereClauseParam(0, codPostal);
    vi.executeQuery();
    
    return (SgaochoaViewRowImpl)vi.first();
  }

 public SgaredurViewRowImpl getSgaredurViewRowImpl(String codPostal)
  {
    SgaredurViewImpl vi = getSgaredurView1();
    // Michael 19.09.2018 Cod Postal may have extra '0' 
    if (codPostal != null)
    {
    vi.setWhereClauseParam(0, codPostal);
    // Michael 19.09.2018 reserved for furure vi.setWhereClauseParam(0, codPostal.replaceFirst("^0+(?!$)", ""));
    vi.executeQuery();
    SgaredurViewRowImpl row = (SgaredurViewRowImpl)vi.first();
    if (row != null)
      return row;
  
    // Si no, buscar por la misma poblacion
    codPostal = codPostal.substring(0, 2) + "%";
    // Michael 19.09.2018 reserved for furure codPostal = codPostal.replaceFirst("^0+(?!$)", "").substring(0, 2) + "%";
    vi.setWhereClauseParam(0, codPostal);
    vi.executeQuery();
    
    return (SgaredurViewRowImpl)vi.first();
    }
    return null;
  }

  /**
   * 
   *  Container's getter for SgatipobultoView1
   */
  public SgatipobultoViewImpl getSgatipobultoView1()
  {
    return (SgatipobultoViewImpl)findViewObject("SgatipobultoView1");
  }

  /**
   * 
   *  Container's getter for SgaRefCodesControlPesView1
   */
  public SgaRefCodesControlPesViewImpl getSgaRefCodesControlPesView1()
  {
    return (SgaRefCodesControlPesViewImpl)findViewObject("SgaRefCodesControlPesView1");
  }

  /**
   * 
   *  Container's getter for SgatipobultoParamView1
   */
  public SgatipobultoParamViewImpl getSgatipobultoParamView1()
  {
    return (SgatipobultoParamViewImpl)findViewObject("SgatipobultoParamView1");
  }
  
  public SgatipobultoParamViewRowImpl getSgatipobultoRow (String codart, Number canlin)
  {
    SgatipobultoParamViewImpl view = getSgatipobultoParamView1();
    view.setWhereClauseParam(0, codart);
    view.setWhereClauseParam(1, canlin);
    view.executeQuery();
    SgatipobultoParamViewRowImpl row = (SgatipobultoParamViewRowImpl)view.first();
    return row;

    
  }

  /**
   * 
   *  Container's getter for SgaredurView1
   */
  public SgaredurViewImpl getSgaredurView1()
  {
    return (SgaredurViewImpl)findViewObject("SgaredurView1");
  }

  /**
   * 
   *  Container's getter for SgaEntradaManualRF1
   */
  public SgaEntradaManualRFImpl getSgaEntradaManualRF1()
  {
    return (SgaEntradaManualRFImpl)findViewObject("SgaEntradaManualRF1");
  }

  /**
   * 
   *  Container's getter for SgaldocEntradesView4
   */
  public SgaldocEntradesViewImpl getSgaldocEntradesView4()
  {
    return (SgaldocEntradesViewImpl)findViewObject("SgaldocEntradesView4");
  }
  /**
   * 
   * @return <code>RowIterator</code> de la instancia SgaldocView4 (relacionat amb Sgacdoc2)
   */
  public RowIterator getLiniesDocActual ()
  {
    RowIterator it = getSgaldocView4().getRowSetIterator();
    return it;
  }

  /**
   * 
   *  Container's getter for SgaLiniaSalidaObert1
   */
  public SgaLiniaSalidaObertImpl getSgaLiniaSalidaObert1()
  {
    return (SgaLiniaSalidaObertImpl)findViewObject("SgaLiniaSalidaObert1");
  }


  /**
   * Tornar número de línies de sortida obertes en el puesto
   */
   public int getLiniesSortidaObertes (String idPuesto) 
   {
     
     if (sgaliniasalidaobertView == null) 
     {
      // First time: set puesto 
      sgaliniasalidaobertView = getSgaLiniaSalidaObert1();
      sgaliniasalidaobertView.setWhereClause("idpuesto = '" + idPuesto + "'");
     }
     sgaliniasalidaobertView.executeQuery();
     if (sgaliniasalidaobertView.hasNext()) 
     {
       SgaLiniaSalidaObertRowImpl row = (SgaLiniaSalidaObertRowImpl)sgaliniasalidaobertView.next();
       return row.getOberts().intValue();
       
     }
     else
      return 0; 
   }
   /**
   * Return true si el mac existe
   * @param idMac
   */
   public boolean existsMac (String idMac)
   {
     Key key = new Key(new Object[]{idMac});
     Row [] row = getSgamacView1().findByKey(key, 1);
     if (row.length > 0 && row[0] != null) 
     {
       return true;
     }
     else
      return false;
   }
   
   /**
    * Michael ReservaManual 09.10.2014
    */

  public boolean assignarReservaManual (oracle.jbo.domain.Number idDoc, oracle.jbo.domain.Number idLin, String idArt, String idMac, Number canRes)
  {
    boolean result = false;
    SgaexistenciaViewImpl sgaExistencia = getSgaexistenciaView1();
    sgaExistencia.setWhereClause("idart = '" + idArt + "' and idmac = '" + idMac + "'");
    sgaExistencia.executeQuery();
    if (sgaExistencia.hasNext())
    {
      SgaexistenciaViewRowImpl existRow = (SgaexistenciaViewRowImpl)sgaExistencia.first();
      SgaldocViewImpl sgaLdoc = getSgaldocView1();
      sgaLdoc.setWhereClause("iddoc = '" + idDoc + "' and idlin ='" + idLin + "'");
      sgaLdoc.executeQuery();
      if (sgaLdoc.hasNext()) 
      {
        SgaldocViewRowImpl ldocRow = (SgaldocViewRowImpl)sgaLdoc.first();
        ldocRow.reservarSalida(idMac, canRes);
        // como la reserva es sin abrir el documento, ver si hay que poner el número de expedición
        ldocRow.setSequenciaExped();
        existRow.reservarEntrada(canRes);
        sgaLdoc.setWhereClause(null);
        sgaLdoc.clearCache();
        result = true;
      }
      sgaExistencia.setWhereClause(null);
      sgaExistencia.clearCache();
    }
      return result;
    
    
    
  }
  
  
  public boolean assignarTrasllatManual (String idArt, String idMac)
  {
    boolean result = false;
    oracle.jbo.domain.Number idDoc;
    SgacdocDefImpl cdocDef = (SgacdocDefImpl)SgacdocImpl.getDefinitionObject();
    SgacdocImpl cdoc = cdocDef.getCdocTL(this.getDBTransaction());
    
    idDoc = cdoc.getIddoc();

    SgaexistenciaViewImpl sgaExist = getSgaexistenciaView1();
    sgaExist.setWhereClause("idmac = '" + idMac + "'");
    sgaExist.executeQuery();
    
    
    // TODO - use 
    
    RowIterator rows = cdoc.getSgabulto();
    rows.reset();
    SgabultoImpl bultoImpl;
    if (rows.hasNext())
      bultoImpl = (SgabultoImpl)rows.first();
    else  
     bultoImpl = (SgabultoImpl)rows.createRow();
    Number idBulto = bultoImpl.getIdbulto();
    
    //
    
    while (sgaExist.hasNext())
    {
      SgaexistenciaViewRowImpl existRow = (SgaexistenciaViewRowImpl)sgaExist.next();
      // Michael - no es necesario 20.12.2016 existRow.setEstado("R");
      existRow.setCanres(existRow.getCantot());
      bultoImpl.crearLineaDetallTrasllat(null, existRow.getIdart(), existRow.getCantot(), existRow.getIdmac());
      
   //   cdoc.setNumlineas(cdoc.getNumlineas().add(1));
      

      
 
      // TODO: Insertar reserva en resmat
      result = true;
    }
    getTransaction().commit();
    
//    SgacdocViewImpl sgaCdoc = getSgacdocView1();
//    sgaCdoc.setWhereClause("iddoc = " + idDoc);
//    sgaCdoc.executeQuery();
//    
//    if (sgaCdoc.hasNext()) 
//    {
//      SgacdocViewRowImpl cdocRow = (SgacdocViewRowImpl)sgaCdoc.first();
//      cdocRow.reservarTrasllat(idMac);
//      sgaCdoc.setWhereClause(null);
//      sgaCdoc.clearCache();
//      result = true;
//    }
//    
      sgaExist.setWhereClause(null);
    sgaExist.clearCache();
    
    return result;
  }
  
  /**
   * 
   *  Container's getter for SgavAgenciaTipoEnvio1
   */
  public SgavAgenciaTipoEnvioImpl getSgavAgenciaTipoEnvio1()
  {
    return (SgavAgenciaTipoEnvioImpl)findViewObject("SgavAgenciaTipoEnvio1");
  }

  /**
   * 
   *  Container's getter for SgavFormatosTipoEnvio1
   */
  public SgavFormatosTipoEnvioImpl getSgavFormatosTipoEnvio1()
  {
    return (SgavFormatosTipoEnvioImpl)findViewObject("SgavFormatosTipoEnvio1");
  }

  /**
   * 
   *  Container's getter for SgaVAgenciaTipoEnvioFormatos1
   */
  public ViewLinkImpl getSgaVAgenciaTipoEnvioFormatos1()
  {
    return (ViewLinkImpl)findViewLink("SgaVAgenciaTipoEnvioFormatos1");
  }

  /**
   * 
   *  Container's getter for SgavAgenciaTipoEnvio2
   */
  public SgavAgenciaTipoEnvioImpl getSgavAgenciaTipoEnvio2()
  {
    return (SgavAgenciaTipoEnvioImpl)findViewObject("SgavAgenciaTipoEnvio2");
  }

  /**
   * 
   *  Container's getter for SgavFormatosTipoEnvio2
   */
  public SgavFormatosTipoEnvioImpl getSgavFormatosTipoEnvio2()
  {
    return (SgavFormatosTipoEnvioImpl)findViewObject("SgavFormatosTipoEnvio2");
  }

  /**
   * 
   *  Container's getter for SgacdocSortidesTipoEnvioViewLink1
   */
  public ViewLinkImpl getSgacdocSortidesTipoEnvioViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgacdocSortidesTipoEnvioViewLink1");
  }

  /**
   * 
   *  Container's getter for SgaVAgenciaTipoEnvioFormatos2
   */
  public ViewLinkImpl getSgaVAgenciaTipoEnvioFormatos2()
  {
    return (ViewLinkImpl)findViewLink("SgaVAgenciaTipoEnvioFormatos2");
  }

  /**
   * 
   *  Container's getter for ProdembalajesView1
   */
  public ProdembalajesViewImpl getProdembalajesView1()
  {
    return (ProdembalajesViewImpl)findViewObject("ProdembalajesView1");
  }

  /**
   * 
   *  Container's getter for ProdembalajesreferenciaView1
   */
  public ProdembalajesreferenciaViewImpl getProdembalajesreferenciaView1()
  {
    return (ProdembalajesreferenciaViewImpl)findViewObject("ProdembalajesreferenciaView1");
  }

  /**
   * 
   *  Container's getter for ProdembalajesReferenciaViewLink1
   */
  public ViewLinkImpl getProdembalajesReferenciaViewLink1()
  {
    return (ViewLinkImpl)findViewLink("ProdembalajesReferenciaViewLink1");
  }

  /**
   * 
   *  Container's getter for ZAgenciatipoenvioView1
   */
  public ZAgenciatipoenvioViewImpl getZAgenciatipoenvioView1()
  {
    return (ZAgenciatipoenvioViewImpl)findViewObject("ZAgenciatipoenvioView1");
  }

  /**
   * 
   *  Container's getter for ZTipoenvioView1
   */
  public ZTipoenvioViewImpl getZTipoenvioView1()
  {
    return (ZTipoenvioViewImpl)findViewObject("ZTipoenvioView1");
  }

  /**
   * 
   *  Container's getter for AgenciaTipoEnvioViewLink1
   */
  public ViewLinkImpl getAgenciaTipoEnvioViewLink1()
  {
    return (ViewLinkImpl)findViewLink("AgenciaTipoEnvioViewLink1");
  }

  /**
   * 
   *  Container's getter for ProdembalajesreferenciaView2
   */
  public ProdembalajesreferenciaViewImpl getProdembalajesreferenciaView2()
  {
    return (ProdembalajesreferenciaViewImpl)findViewObject("ProdembalajesreferenciaView2");
  }

  /**
   * 
   *  Container's getter for SgaarticuloView3
   */
  public SgaarticuloViewImpl getSgaarticuloView3()
  {
    return (SgaarticuloViewImpl)findViewObject("SgaarticuloView3");
  }

  /**
   * 
   *  Container's getter for SgavProdEmbalajesArticuloView1
   */
  public SgavProdEmbalajesArticuloViewImpl getSgavProdEmbalajesArticuloView1()
  {
    return (SgavProdEmbalajesArticuloViewImpl)findViewObject("SgavProdEmbalajesArticuloView1");
  }

  /**
   * 
   *  Container's getter for SgaArticuloProdEmbalajesViewLink1
   */
  public ViewLinkImpl getSgaArticuloProdEmbalajesViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaArticuloProdEmbalajesViewLink1");
  }

  /**
   * 
   *  Container's getter for ZTipoenvioView2
   */
  public ZTipoenvioViewImpl getZTipoenvioView2()
  {
    return (ZTipoenvioViewImpl)findViewObject("ZTipoenvioView2");
  }

  /**
   * 
   *  Container's getter for SgaexpedView1
   */
  public SgaexpedViewImpl getSgaexpedView1()
  {
    return (SgaexpedViewImpl)findViewObject("SgaexpedView1");
  }

  /**
   * 
   *  Container's getter for SgaexpedbultoView1
   */
  public SgaexpedbultoViewImpl getSgaexpedbultoView1()
  {
    return (SgaexpedbultoViewImpl)findViewObject("SgaexpedbultoView1");
  }

  /**
   * 
   *  Container's getter for SgaexpedlbultoView1
   */
  public SgaexpedlbultoViewImpl getSgaexpedlbultoView1()
  {
    return (SgaexpedlbultoViewImpl)findViewObject("SgaexpedlbultoView1");
  }

  /**
   * 
   *  Container's getter for SgaexpedExpedbultoViewLink1
   */
  public ViewLinkImpl getSgaexpedExpedbultoViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaexpedExpedbultoViewLink1");
  }

  /**
   * 
   *  Container's getter for SgaexpedbultoExpedlbultoViewLink1
   */
  public ViewLinkImpl getSgaexpedbultoExpedlbultoViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaexpedbultoExpedlbultoViewLink1");
  }

  
  /**
   * El número d'expedició es julian date + nro de secuencia
   */
   
   public String getSeqExped () 
   {
     String queryResult = getTransaction().
     dumpQueryResult("select to_char(to_number(to_char(sysdate,'J')))*1000 +  seq_idexped.nextval from dual", 
                      "oracle.jbo.server.QueryDumpTab",
                          null);
    int n = queryResult.indexOf("\n")+1;
    return(queryResult.substring(n).trim());
   }
   
   /**
    * 
    */
    
    public String createSgaExped (SgacdocViewRow cdocRow) 
    {
      SgaexpedViewImpl expedView = getSgaexpedView1();
      SgaexpedViewRowImpl row = (SgaexpedViewRowImpl)expedView.createRow();
// TODO inicialize first document      row.setIddoc(cdocRow.getIddoc());
      expedView.insertRow(row);
      return row.getIdexped().toString();
    }

  /**
   * 
   *  Container's getter for SgaexpeddocView1
   */
  public SgaexpeddocViewImpl getSgaexpeddocView1()
  {
    return (SgaexpeddocViewImpl)findViewObject("SgaexpeddocView1");
  }


  /**
   * 
   *  Container's getter for SgaexpeddocView2
   */
  public SgaexpeddocViewImpl getSgaexpeddocView2()
  {
    return (SgaexpeddocViewImpl)findViewObject("SgaexpeddocView2");
  }

  /**
   * 
   *  Container's getter for SgaexpedSgaexpeddocViewLink1
   */
  public ViewLinkImpl getSgaexpedSgaexpeddocViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaexpedSgaexpeddocViewLink1");
  }

  /**
   * 
   *  Container's getter for SgavexpeddocView1
   */
  public SgavexpeddocViewImpl getSgavexpeddocView1()
  {
    return (SgavexpeddocViewImpl)findViewObject("SgavexpeddocView1");
  }

  /**
   * 
   *  Container's getter for SgaexpedvexpeddocViewLink1
   */
  public ViewLinkImpl getSgaexpedvexpeddocViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaexpedvexpeddocViewLink1");
  }

  /**
   * 
   *  Container's getter for SgavexpedbultoView1
   */
  public SgavexpedbultoViewImpl getSgavexpedbultoView1()
  {
    return (SgavexpedbultoViewImpl)findViewObject("SgavexpedbultoView1");
  }

  /**
   * 
   *  Container's getter for SgaexpedvexpedbultoViewLink1
   */
  public ViewLinkImpl getSgaexpedvexpedbultoViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgaexpedvexpedbultoViewLink1");
  }

  /**
   * 
   *  Container's getter for SgavexpedlbultoView1
   */
  public SgavexpedlbultoViewImpl getSgavexpedlbultoView1()
  {
    return (SgavexpedlbultoViewImpl)findViewObject("SgavexpedlbultoView1");
  }

  /**
   * 
   *  Container's getter for SgavexpedbultovexpedlbultoViewLink1
   */
  public ViewLinkImpl getSgavexpedbultovexpedlbultoViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavexpedbultovexpedlbultoViewLink1");
  }

  /**
   * 
   *  Container's getter for SgavexpedbultoView2
   */
  public SgavexpedbultoViewImpl getSgavexpedbultoView2()
  {
    return (SgavexpedbultoViewImpl)findViewObject("SgavexpedbultoView2");
  }

  /**
   * 
   *  Container's getter for SgavexpedlbultoView2
   */
  public SgavexpedlbultoViewImpl getSgavexpedlbultoView2()
  {
    return (SgavexpedlbultoViewImpl)findViewObject("SgavexpedlbultoView2");
  }

  /**
   * 
   *  Container's getter for SgavexpedbultovexpedlbultoViewLink2
   */
  public ViewLinkImpl getSgavexpedbultovexpedlbultoViewLink2()
  {
    return (ViewLinkImpl)findViewLink("SgavexpedbultovexpedlbultoViewLink2");
  }

  /**
   * 
   *  Container's getter for SgaexpedbultoView2
   */
  public SgaexpedbultoViewImpl getSgaexpedbultoView2()
  {
    return (SgaexpedbultoViewImpl)findViewObject("SgaexpedbultoView2");
  }

  /**
   * 
   *  Container's getter for SgavexpedbultoexpedbultoViewLink1
   */
  public ViewLinkImpl getSgavexpedbultoexpedbultoViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavexpedbultoexpedbultoViewLink1");
  }

  /**
   * 
   *  Container's getter for SgazonamanView1
   */
  public SgazonamanViewImpl getSgazonamanView1()
  {
    return (SgazonamanViewImpl)findViewObject("SgazonamanView1");
  }

  /**
   * 
   *  Container's getter for SgapasillomanualView1
   */
  public SgapasillomanualViewImpl getSgapasillomanualView1()
  {
    return (SgapasillomanualViewImpl)findViewObject("SgapasillomanualView1");
  }

  /**
   * Verifica si l'usuari es correcte
   * @return Cert si esta autoritzat, fals en cas contrari
   */
  public boolean checkUsername(String user)
  {
    boolean correctUser = false;

    // Key userKey = new Key(new Object[]{user.substring(0, 10)});
    Key userKey = new Key(new Object[]{user});
    
    Row [] userKeyRows = getSgauserView1().findByKey(userKey, 1);
    if (userKeyRows.length > 0)
    {
      Row foundUser = userKeyRows[0];
      if (foundUser != null)
//      if (password.equals(foundUser.getAttribute("Idpassword")))
          correctUser = true;
    }
    return correctUser;
  }

  /**
   * 
   *  Container's getter for SgacdocTL1
   */
  public SgacdocTLViewImpl getSgacdocTL1()
  {
    return (SgacdocTLViewImpl)findViewObject("SgacdocTL1");
  }









  /**
   * 
   *  Container's getter for SgacdocTLExistView1
   */
  public SgacdocTLExistViewImpl getSgacdocTLExistView1()
  {
    return (SgacdocTLExistViewImpl)findViewObject("SgacdocTLExistView1");
  }

  /**
   * 
   *  Container's getter for SgacdocTLView1
   */
  public SgacdocTLViewImpl getSgacdocTLView1()
  {
    return (SgacdocTLViewImpl)findViewObject("SgacdocTLView1");
  }

  /**
   * 
   *  Container's getter for SgavexistenciaTLView1
   */
  public SgavexistenciaTLViewImpl getSgavexistenciaTLView1()
  {
    return (SgavexistenciaTLViewImpl)findViewObject("SgavexistenciaTLView1");
  }

  /**
   * 
   *  Container's getter for SgacdocTLvexistenciasTLViewLink1
   */
  public ViewLinkImpl getSgacdocTLvexistenciasTLViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgacdocTLvexistenciasTLViewLink1");
  }

  /**
   * 
   *  Container's getter for SgaldocEntradesView5
   */
  public SgaldocEntradesViewImpl getSgaldocEntradesView5()
  {
    return (SgaldocEntradesViewImpl)findViewObject("SgaldocEntradesView5");
  }

  /**
   * 
   *  Container's getter for SgamacView12
   */
  public SgamacViewImpl getSgamacView12()
  {
    return (SgamacViewImpl)findViewObject("SgamacView12");
  }

  /**
   * 
   *  Container's getter for SgavbultoLdocViewLink1
   */
  public ViewLinkImpl getSgavbultoLdocViewLink1()
  {
    return (ViewLinkImpl)findViewLink("SgavbultoLdocViewLink1");
  }

  /**
   * 
   *  Container's getter for SgaldocEntradesMacViewLink2
   */
  public ViewLinkImpl getSgaldocEntradesMacViewLink2()
  {
    return (ViewLinkImpl)findViewLink("SgaldocEntradesMacViewLink2");
  }

  /**
   * 
   *  Container's getter for SgabultoView2
   */
  public SgabultoViewImpl getSgabultoView2()
  {
    return (SgabultoViewImpl)findViewObject("SgabultoView2");
  }

  /**
   * 
   *  Container's getter for SgacdocEntradesldocEntradesLink1
   */
  public ViewLinkImpl getSgacdocEntradesldocEntradesLink1()
  {
    return (ViewLinkImpl)findViewLink("SgacdocEntradesldocEntradesLink1");
  }

  /**
   * 
   *  Container's getter for SgacdocEntradesbultoLink1
   */
  public ViewLinkImpl getSgacdocEntradesbultoLink1()
  {
    return (ViewLinkImpl)findViewLink("SgacdocEntradesbultoLink1");
  }

  /**
   * 
   *  Container's getter for SgamacView13
   */
  public SgamacViewImpl getSgamacView13()
  {
    return (SgamacViewImpl)findViewObject("SgamacView13");
  }

  /**
   * 
   *  Container's getter for SgaldocEntradesMacViewLink3
   */
  public ViewLinkImpl getSgaldocEntradesMacViewLink3()
  {
    return (ViewLinkImpl)findViewLink("SgaldocEntradesMacViewLink3");
  }

  /**
   * 
   *  Container's getter for SgaldocEntradesView2
   */
  public SgaldocEntradesViewImpl getSgaldocEntradesView2()
  {
    return (SgaldocEntradesViewImpl)findViewObject("SgaldocEntradesView2");
  }

  /**
   * 
   *  Container's getter for SgaRamonedaRutaView1
   */
  public SgaRamonedaRutaViewImpl getSgaRamonedaRutaView1()
  {
    return (SgaRamonedaRutaViewImpl)findViewObject("SgaRamonedaRutaView1");
  }




  /**
   * 
   *  Container's getter for SgavubicacionRF1
   */
  public SgavubicacionRFImpl getSgavubicacionRF1()
  {
    return (SgavubicacionRFImpl)findViewObject("SgavubicacionRF1");
  }

  /**
   * 
   *  Container's getter for Sgavpasillomig1
   */
  public SgavpasillomigImpl getSgavpasillomig1()
  {
    return (SgavpasillomigImpl)findViewObject("Sgavpasillomig1");
  }

  /**
   * 
   *  Container's getter for SgaRefCodesEspecialExistView
   */
  public SgaRefCodesViewImpl getSgaRefCodesEspecialExistView()
  {
    return (SgaRefCodesViewImpl)findViewObject("SgaRefCodesEspecialExistView");
  }

  /**
   * 
   *  Container's getter for SgavBultoCantErroneo1
   */
  public SgavBultoCantErroneoImpl getSgavBultoCantErroneo1()
  {
    return (SgavBultoCantErroneoImpl)findViewObject("SgavBultoCantErroneo1");
  }
  
  public SgavBultoCantErroneoRow getBultoCantErroneo (String iddoc)
  {
    SgavBultoCantErroneoImpl v = getSgavBultoCantErroneo1();
    if (iddoc != null)
    {
      v.setWhereClause("iddoc = '" + iddoc + "'");
    }
    v.executeQuery();
    return (SgavBultoCantErroneoRow)v.first();
  }

  /**
   * 
   *  Container's getter for SgatdnpobView1
   */
  public SgatdnpobViewImpl getSgatdnpobView1()
  {
    return (SgatdnpobViewImpl)findViewObject("SgatdnpobView1");
  }


  /**
   * 
   *  Container's getter for Sgavexistusuari
   */
  public SgacdocSortidesresmanLocatorImpl getSgavexistusuari()
  {
    return (SgacdocSortidesresmanLocatorImpl)findViewObject("Sgavexistusuari");
  }

  /**
   * 
   *  Container's getter for Sgavhistexistusuari1
   */
  public SgavhistexistusuariImpl getSgavhistexistusuari1()
  {
    return (SgavhistexistusuariImpl)findViewObject("Sgavhistexistusuari1");
  }














}


